{"version":3,"file":"index.js","sources":["../src/gesture.ts"],"sourcesContent":["import { __extends } from \"tslib\";\nimport EventEmitter from 'eventemitter3';\nvar clock = typeof performance === 'object' && performance.now ? performance : Date;\nvar PRESS_DELAY = 250;\n// 计算滑动的方向\nvar calcDirection = function (start, end) {\n    var xDistance = end.x - start.x;\n    var yDistance = end.y - start.y;\n    // x 的距离大于y 说明是横向，否则就是纵向\n    if (Math.abs(xDistance) > Math.abs(yDistance)) {\n        return xDistance > 0 ? 'right' : 'left';\n    }\n    return yDistance > 0 ? 'down' : 'up';\n};\n// 计算2点之间的距离\nvar calcDistance = function (point1, point2) {\n    var xDistance = Math.abs(point2.x - point1.x);\n    var yDistance = Math.abs(point2.y - point1.y);\n    return Math.sqrt(xDistance * xDistance + yDistance * yDistance);\n};\nvar getCenter = function (point1, point2) {\n    var x = point1.x + (point2.x - point1.x) / 2;\n    var y = point1.y + (point2.y - point1.y) / 2;\n    return { x: x, y: y };\n};\nvar Gesture = /** @class */ (function (_super) {\n    __extends(Gesture, _super);\n    function Gesture(el) {\n        var _this = _super.call(this) || this;\n        _this.evCache = [];\n        _this.startPoints = [];\n        // 用来记录当前触发的事件\n        _this.processEvent = {};\n        _this.throttleTimer = 0;\n        _this.emitThrottles = [];\n        _this._start = function (ev) {\n            // 每次触点开始都重置事件\n            _this.reset();\n            // 记录touch start 的时间\n            _this.startTime = clock.now();\n            var _a = _this, evCache = _a.evCache, startPoints = _a.startPoints;\n            if (ev) {\n                var pointerId = ev.pointerId, x = ev.x, y = ev.y;\n                evCache.push({\n                    pointerId: pointerId,\n                    x: x,\n                    y: y,\n                    ev: ev,\n                });\n            }\n            // 重置 startPoints\n            startPoints.length = evCache.length;\n            for (var i = 0; i < evCache.length; i++) {\n                var _b = evCache[i], x = _b.x, y = _b.y;\n                var point = { x: x, y: y };\n                startPoints[i] = point;\n            }\n            // 单指事件\n            if (startPoints.length === 1) {\n                var event_1 = evCache[0].ev;\n                // 如果touchstart后停顿250ms, 则也触发press事件\n                // @ts-ignore\n                _this.pressTimeout = setTimeout(function () {\n                    // 这里固定触发press事件\n                    var eventType = 'press';\n                    var direction = 'none';\n                    event_1.direction = direction;\n                    event_1.deltaX = 0;\n                    event_1.deltaY = 0;\n                    event_1.points = startPoints;\n                    _this.emitStart(eventType, event_1);\n                    _this.emit(eventType, event_1);\n                    _this.eventType = eventType;\n                    _this.direction = direction;\n                }, PRESS_DELAY);\n                return;\n            }\n            // 目前只处理双指\n            _this.startDistance = calcDistance(startPoints[0], startPoints[1]);\n            _this.center = getCenter(startPoints[0], startPoints[1]);\n        };\n        _this._move = function (ev) {\n            _this.clearPressTimeout();\n            var _a = _this, startPoints = _a.startPoints, evCache = _a.evCache;\n            if (!startPoints.length)\n                return;\n            var x = ev.x, y = ev.y, pointerId = ev.pointerId;\n            var isTriggerStart = false;\n            // Find this event in the cache and update its record with this event\n            for (var i = 0, len = evCache.length; i < len; i++) {\n                if (pointerId === evCache[i].pointerId) {\n                    evCache[i] = {\n                        pointerId: pointerId,\n                        x: x,\n                        y: y,\n                        ev: ev,\n                    };\n                    isTriggerStart = true;\n                    break;\n                }\n            }\n            // 无触发start事件 需保留startPoints重新触发start\n            if (!isTriggerStart) {\n                var point_1 = { x: x, y: y };\n                startPoints.push(point_1);\n                evCache.push({\n                    pointerId: pointerId,\n                    x: x,\n                    y: y,\n                    ev: ev,\n                });\n                // 目前只处理双指\n                _this.startDistance = calcDistance(startPoints[0], startPoints[1]);\n                _this.center = getCenter(startPoints[0], startPoints[1]);\n            }\n            var point = { x: x, y: y };\n            var points = evCache.map(function (ev) {\n                return { x: ev.x, y: ev.y };\n            });\n            // 记录最后2次move的时间和坐标，为了给swipe事件用\n            var now = clock.now();\n            _this.prevMoveTime = _this.lastMoveTime;\n            _this.prevMovePoint = _this.lastMovePoint;\n            _this.lastMoveTime = now;\n            _this.lastMovePoint = point;\n            if (startPoints.length === 1) {\n                var startPoint = startPoints[0];\n                var deltaX = x - startPoint.x;\n                var deltaY = y - startPoint.y;\n                var direction = _this.direction || calcDirection(startPoint, point);\n                _this.direction = direction;\n                // 获取press或者pan的事件类型\n                // press 按住滑动, pan表示平移\n                // 如果start后立刻move，则触发pan, 如果有停顿，则触发press\n                var eventType = _this.getEventType(point);\n                ev.direction = direction;\n                ev.deltaX = deltaX;\n                ev.deltaY = deltaY;\n                ev.points = points;\n                _this.emitStart(eventType, ev);\n                _this.emit(eventType, ev);\n                return;\n            }\n            // 多指触控\n            var startDistance = _this.startDistance;\n            var currentDistance = calcDistance(points[0], points[1]);\n            // 缩放比例\n            ev.zoom = currentDistance / startDistance;\n            ev.center = _this.center;\n            ev.points = points;\n            // 触发缩放事件\n            _this.emitStart('pinch', ev);\n            // touch 多指会被拆成多个手指的 move, 会触发多次 move，所以这里需要做节流\n            _this._throttleEmit('pinch', ev);\n        };\n        _this._end = function (ev) {\n            var _a = _this, evCache = _a.evCache, startPoints = _a.startPoints;\n            var points = evCache.map(function (ev) {\n                return { x: ev.x, y: ev.y };\n            });\n            ev.points = points;\n            _this.emitEnd(ev);\n            // 单指\n            if (evCache.length === 1) {\n                // swipe事件处理, 在end之后触发\n                var now = clock.now();\n                var lastMoveTime = _this.lastMoveTime;\n                // 做这个判断是为了最后一次touchmove后到end前，是否还有一个停顿的过程\n                // 100 是拍的一个值，理论这个值会很短，一般不卡顿的话在10ms以内\n                if (now - lastMoveTime < 100) {\n                    var prevMoveTime = _this.prevMoveTime || _this.startTime;\n                    var intervalTime = lastMoveTime - prevMoveTime;\n                    // 时间间隔一定要大于0, 否则计算没意义\n                    if (intervalTime > 0) {\n                        var prevMovePoint = _this.prevMovePoint || startPoints[0];\n                        var lastMovePoint = _this.lastMovePoint || startPoints[0];\n                        // move速率\n                        var velocity = calcDistance(prevMovePoint, lastMovePoint) / intervalTime;\n                        // 0.3 是参考hammerjs的设置\n                        if (velocity > 0.3) {\n                            ev.velocity = velocity;\n                            ev.direction = calcDirection(prevMovePoint, lastMovePoint);\n                            _this.emit('swipe', ev);\n                        }\n                    }\n                }\n            }\n            // remove event from cache\n            for (var i = 0, len = evCache.length; i < len; i++) {\n                if (evCache[i].pointerId === ev.pointerId) {\n                    evCache.splice(i, 1);\n                    startPoints.splice(i, 1);\n                    break;\n                }\n            }\n            _this.reset();\n            // 多指离开 1 指后，重新触发一次start\n            if (evCache.length > 0) {\n                _this._start();\n            }\n        };\n        _this._cancel = function (ev) {\n            var evCache = _this.evCache;\n            var points = evCache.map(function (ev) {\n                return { x: ev.x, y: ev.y };\n            });\n            ev.points = points;\n            _this.emitEnd(ev);\n            _this.evCache = [];\n            _this.reset();\n        };\n        _this.el = el;\n        _this._initEvent();\n        return _this;\n    }\n    Gesture.prototype._initEvent = function () {\n        var el = this.el;\n        el.addEventListener('pointerdown', this._start);\n        el.addEventListener('pointermove', this._move);\n        el.addEventListener('pointerup', this._end);\n        el.addEventListener('pointercancel', this._cancel);\n        el.addEventListener('pointerupoutside', this._end);\n    };\n    Gesture.prototype.getEventType = function (point) {\n        var _a = this, eventType = _a.eventType, startTime = _a.startTime, startPoints = _a.startPoints;\n        if (eventType) {\n            return eventType;\n        }\n        var type;\n        // @ts-ignore\n        var panEventListeners = this._events.pan;\n        // 如果没有pan事件的监听，默认都是press\n        if (!panEventListeners) {\n            type = 'press';\n        }\n        else {\n            // 如果有pan事件的处理，press则需要停顿250ms, 且移动距离小于10\n            var now = clock.now();\n            if (now - startTime > PRESS_DELAY &&\n                calcDistance(startPoints[0], point) < 10) {\n                type = 'press';\n            }\n            else {\n                type = 'pan';\n            }\n        }\n        this.eventType = type;\n        return type;\n    };\n    Gesture.prototype.enable = function (eventType) {\n        this.processEvent[eventType] = true;\n    };\n    // 是否进行中的事件\n    Gesture.prototype.isProcess = function (eventType) {\n        return this.processEvent[eventType];\n    };\n    // 触发start事件\n    Gesture.prototype.emitStart = function (type, ev) {\n        if (this.isProcess(type)) {\n            return;\n        }\n        this.enable(type);\n        this.emit(\"\".concat(type, \"start\"), ev);\n    };\n    // 触发事件\n    Gesture.prototype._throttleEmit = function (type, ev) {\n        var _this = this;\n        var _a, _b;\n        // 主要是节流处理\n        this.pushEvent(type, ev);\n        var _c = this, el = _c.el, throttleTimer = _c.throttleTimer, emitThrottles = _c.emitThrottles, processEvent = _c.processEvent;\n        if (throttleTimer) {\n            return;\n        }\n        // @ts-ignore\n        var global = ((_a = el.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) || ((_b = el.document) === null || _b === void 0 ? void 0 : _b.defaultView);\n        this.throttleTimer = global.requestAnimationFrame(function () {\n            for (var i = 0, len = emitThrottles.length; i < len; i++) {\n                var _a = emitThrottles[i], type_1 = _a.type, ev_1 = _a.ev;\n                if (processEvent[type_1]) {\n                    _this.emit(type_1, ev_1);\n                }\n            }\n            // 清空\n            _this.throttleTimer = 0;\n            _this.emitThrottles.length = 0;\n        });\n    };\n    // 触发end事件\n    Gesture.prototype.emitEnd = function (ev) {\n        var _this = this;\n        var processEvent = this.processEvent;\n        Object.keys(processEvent).forEach(function (type) {\n            _this.emit(\"\".concat(type, \"end\"), ev);\n            delete processEvent[type];\n        });\n    };\n    Gesture.prototype.pushEvent = function (type, ev) {\n        var emitThrottles = this.emitThrottles;\n        var newEvent = { type: type, ev: ev };\n        for (var i = 0, len = emitThrottles.length; i < len; i++) {\n            if (emitThrottles[i].type === type) {\n                emitThrottles.splice(i, 1, newEvent);\n                return;\n            }\n        }\n        emitThrottles.push(newEvent);\n    };\n    Gesture.prototype.clearPressTimeout = function () {\n        if (this.pressTimeout) {\n            clearTimeout(this.pressTimeout);\n            this.pressTimeout = null;\n        }\n    };\n    Gesture.prototype.reset = function () {\n        this.clearPressTimeout();\n        this.startTime = 0;\n        this.startDistance = 0;\n        this.direction = null;\n        this.eventType = null;\n        this.prevMoveTime = 0;\n        this.prevMovePoint = null;\n        this.lastMoveTime = 0;\n        this.lastMovePoint = null;\n    };\n    return Gesture;\n}(EventEmitter));\nexport default Gesture;\n//# sourceMappingURL=gesture.js.map"],"names":["__extends"],"mappings":"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"}