{"version":3,"file":"index.umd.min.js","sources":["../../../node_modules/.pnpm/node_modules/tslib/tslib.es6.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/convert/path-2-string.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/process/round-path.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/params-parser.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/params-count.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/is-path-array.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/is-absolute-array.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/finalize-segment.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/scan-flag.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/is-digit-start.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/scan-param.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/skip-spaces.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/is-space.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/scan-segment.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/is-path-command.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/is-arc-command.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/path-parser.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/convert/path-2-absolute.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/parser/parse-path-string.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/process/normalize-segment.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/process/normalize-path.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/is-normalized-array.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/distance-square-root.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/segment-line-factory.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/mid-point.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/segment-arc-factory.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/segment-cubic-factory.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/segment-quad-factory.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/get-total-length.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/path/util/path-length-factory.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/lodash/is-nil.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/lodash/is-type.js","../../../node_modules/.pnpm/@antv+util@3.3.4/node_modules/@antv/util/esm/lodash/is-number.js","../src/LottieAnimation.ts","../src/parser/complete-data.ts","../src/parser/lottie-type.ts","../src/parser/index.ts","../src/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n","import { roundPath } from '../process/round-path';\n/**\n * Returns a valid `d` attribute string value created\n * by rounding values and concatenating the `pathArray` segments.\n */\nexport function path2String(path, round) {\n    if (round === void 0) { round = 'off'; }\n    return roundPath(path, round)\n        .map(function (x) { return x[0] + x.slice(1).join(' '); })\n        .join('');\n}\n//# sourceMappingURL=path-2-string.js.map","/**\n * Rounds the values of a `PathArray` instance to\n * a specified amount of decimals and returns it.\n */\nexport function roundPath(path, round) {\n    if (round === 'off')\n        return [].concat(path);\n    // to round values to the power\n    // the `round` value must be integer\n    var pow = typeof round === 'number' && round >= 1 ? Math.pow(10, round) : 1;\n    return path.map(function (pi) {\n        var values = pi\n            .slice(1)\n            .map(Number)\n            .map(function (n) { return (round ? Math.round(n * pow) / pow : Math.round(n)); });\n        // @ts-ignore\n        return [pi[0]].concat(values);\n    });\n}\n//# sourceMappingURL=round-path.js.map","export var paramsParser = {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    x: 0,\n    y: 0,\n    qx: null,\n    qy: null,\n};\n//# sourceMappingURL=params-parser.js.map","export var paramsCount = {\n    a: 7,\n    c: 6,\n    h: 1,\n    l: 2,\n    m: 2,\n    r: 4,\n    q: 4,\n    s: 4,\n    t: 2,\n    v: 1,\n    z: 0,\n};\n//# sourceMappingURL=params-count.js.map","import { paramsCount } from '../parser/params-count';\n/**\n * Iterates an array to check if it's an actual `PathArray`.\n */\nexport function isPathArray(path) {\n    return (Array.isArray(path) &&\n        path.every(function (seg) {\n            var lk = seg[0].toLowerCase();\n            return paramsCount[lk] === seg.length - 1 && 'achlmqstvz'.includes(lk);\n        }));\n}\n//# sourceMappingURL=is-path-array.js.map","import { isPathArray } from './is-path-array';\n/**\n * Iterates an array to check if it's a `PathArray`\n * with all absolute values.\n */\nexport function isAbsoluteArray(path) {\n    return (isPathArray(path) &&\n        // @ts-ignore -- `isPathArray` also checks if it's `Array`\n        path.every(function (_a) {\n            var x = _a[0];\n            return x === x.toUpperCase();\n        }));\n}\n//# sourceMappingURL=is-absolute-array.js.map","import { paramsCount } from './params-count';\n/**\n * Breaks the parsing of a pathString once a segment is finalized.\n */\nexport function finalizeSegment(path) {\n    var pathCommand = path.pathValue[path.segmentStart];\n    var LK = pathCommand.toLowerCase();\n    var data = path.data;\n    while (data.length >= paramsCount[LK]) {\n        // overloaded `moveTo`\n        // https://github.com/rveciana/svg-path-properties/blob/master/src/parse.ts\n        if (LK === 'm' && data.length > 2) {\n            // @ts-ignore\n            path.segments.push([pathCommand].concat(data.splice(0, 2)));\n            LK = 'l';\n            pathCommand = pathCommand === 'm' ? 'l' : 'L';\n        }\n        else {\n            // @ts-ignore\n            path.segments.push([pathCommand].concat(data.splice(0, paramsCount[LK])));\n        }\n        if (!paramsCount[LK]) {\n            break;\n        }\n    }\n}\n//# sourceMappingURL=finalize-segment.js.map","/**\n * Validates an A (arc-to) specific path command value.\n * Usually a `large-arc-flag` or `sweep-flag`.\n */\nexport function scanFlag(path) {\n    var index = path.index, pathValue = path.pathValue;\n    var code = pathValue.charCodeAt(index);\n    if (code === 0x30 /* 0 */) {\n        path.param = 0;\n        path.index += 1;\n        return;\n    }\n    if (code === 0x31 /* 1 */) {\n        path.param = 1;\n        path.index += 1;\n        return;\n    }\n    path.err = \"[path-util]: invalid Arc flag \\\"\" + pathValue[index] + \"\\\", expecting 0 or 1 at index \" + index;\n}\n//# sourceMappingURL=scan-flag.js.map","/**\n * Checks if the character is or belongs to a number.\n * [0-9]|+|-|.\n */\nexport function isDigitStart(code) {\n    return ((code >= 48 && code <= 57) /* 0..9 */ || code === 0x2b /* + */ || code === 0x2d /* - */ || code === 0x2e); /* . */\n}\nexport function isDigit(code) {\n    return code >= 48 && code <= 57; // 0..9\n}\n//# sourceMappingURL=is-digit-start.js.map","import { isDigit } from './is-digit-start';\n/**\n * Validates every character of the path string,\n * every path command, negative numbers or floating point numbers.\n */\nexport function scanParam(path) {\n    var max = path.max, pathValue = path.pathValue, start = path.index;\n    var index = start;\n    var zeroFirst = false;\n    var hasCeiling = false;\n    var hasDecimal = false;\n    var hasDot = false;\n    var ch;\n    if (index >= max) {\n        // path.err = 'SvgPath: missed param (at pos ' + index + ')';\n        path.err = \"[path-util]: Invalid path value at index \" + index + \", \\\"pathValue\\\" is missing param\";\n        return;\n    }\n    ch = pathValue.charCodeAt(index);\n    if (ch === 0x2b /* + */ || ch === 0x2d /* - */) {\n        index += 1;\n        // ch = (index < max) ? pathValue.charCodeAt(index) : 0;\n        ch = pathValue.charCodeAt(index);\n    }\n    // This logic is shamelessly borrowed from Esprima\n    // https://github.com/ariya/esprimas\n    if (!isDigit(ch) && ch !== 0x2e /* . */) {\n        // path.err = 'SvgPath: param should start with 0..9 or `.` (at pos ' + index + ')';\n        path.err = \"[path-util]: Invalid path value at index \" + index + \", \\\"\" + pathValue[index] + \"\\\" is not a number\";\n        return;\n    }\n    if (ch !== 0x2e /* . */) {\n        zeroFirst = ch === 0x30 /* 0 */;\n        index += 1;\n        ch = pathValue.charCodeAt(index);\n        if (zeroFirst && index < max) {\n            // decimal number starts with '0' such as '09' is illegal.\n            if (ch && isDigit(ch)) {\n                // path.err = 'SvgPath: numbers started with `0` such as `09`\n                // are illegal (at pos ' + start + ')';\n                path.err = \"[path-util]: Invalid path value at index \" + start + \", \\\"\" + pathValue[start] + \"\\\" illegal number\";\n                return;\n            }\n        }\n        while (index < max && isDigit(pathValue.charCodeAt(index))) {\n            index += 1;\n            hasCeiling = true;\n        }\n        ch = pathValue.charCodeAt(index);\n    }\n    if (ch === 0x2e /* . */) {\n        hasDot = true;\n        index += 1;\n        while (isDigit(pathValue.charCodeAt(index))) {\n            index += 1;\n            hasDecimal = true;\n        }\n        ch = pathValue.charCodeAt(index);\n    }\n    if (ch === 0x65 /* e */ || ch === 0x45 /* E */) {\n        if (hasDot && !hasCeiling && !hasDecimal) {\n            path.err = \"[path-util]: Invalid path value at index \" + index + \", \\\"\" + pathValue[index] + \"\\\" invalid float exponent\";\n            return;\n        }\n        index += 1;\n        ch = pathValue.charCodeAt(index);\n        if (ch === 0x2b /* + */ || ch === 0x2d /* - */) {\n            index += 1;\n        }\n        if (index < max && isDigit(pathValue.charCodeAt(index))) {\n            while (index < max && isDigit(pathValue.charCodeAt(index))) {\n                index += 1;\n            }\n        }\n        else {\n            path.err = \"[path-util]: Invalid path value at index \" + index + \", \\\"\" + pathValue[index] + \"\\\" invalid integer exponent\";\n            return;\n        }\n    }\n    path.index = index;\n    path.param = +path.pathValue.slice(start, index);\n}\n//# sourceMappingURL=scan-param.js.map","import { isSpace } from './is-space';\n/**\n * Points the parser to the next character in the\n * path string every time it encounters any kind of\n * space character.\n */\nexport function skipSpaces(path) {\n    var pathValue = path.pathValue, max = path.max;\n    while (path.index < max && isSpace(pathValue.charCodeAt(path.index))) {\n        path.index += 1;\n    }\n}\n//# sourceMappingURL=skip-spaces.js.map","/**\n * Checks if the character is a space.\n */\nexport function isSpace(ch) {\n    var specialSpaces = [\n        0x1680, 0x180e, 0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200a, 0x202f,\n        0x205f, 0x3000, 0xfeff,\n    ];\n    /* istanbul ignore next */\n    return (ch === 0x0a ||\n        ch === 0x0d ||\n        ch === 0x2028 ||\n        ch === 0x2029 || // Line terminators\n        // White spaces\n        ch === 0x20 ||\n        ch === 0x09 ||\n        ch === 0x0b ||\n        ch === 0x0c ||\n        ch === 0xa0 ||\n        (ch >= 0x1680 && specialSpaces.includes(ch)));\n}\n//# sourceMappingURL=is-space.js.map","import { finalizeSegment } from './finalize-segment';\nimport { paramsCount } from './params-count';\nimport { scanFlag } from './scan-flag';\nimport { scanParam } from './scan-param';\nimport { skipSpaces } from './skip-spaces';\nimport { isPathCommand } from './is-path-command';\nimport { isDigitStart } from './is-digit-start';\nimport { isArcCommand } from './is-arc-command';\n/**\n * Scans every character in the path string to determine\n * where a segment starts and where it ends.\n */\nexport function scanSegment(path) {\n    var max = path.max, pathValue = path.pathValue, index = path.index;\n    var cmdCode = pathValue.charCodeAt(index);\n    var reqParams = paramsCount[pathValue[index].toLowerCase()];\n    path.segmentStart = index;\n    if (!isPathCommand(cmdCode)) {\n        path.err = \"[path-util]: Invalid path value \\\"\" + pathValue[index] + \"\\\" is not a path command\";\n        return;\n    }\n    path.index += 1;\n    skipSpaces(path);\n    path.data = [];\n    if (!reqParams) {\n        // Z\n        finalizeSegment(path);\n        return;\n    }\n    for (;;) {\n        for (var i = reqParams; i > 0; i -= 1) {\n            if (isArcCommand(cmdCode) && (i === 3 || i === 4))\n                scanFlag(path);\n            else\n                scanParam(path);\n            if (path.err.length) {\n                return;\n            }\n            path.data.push(path.param);\n            skipSpaces(path);\n            // after ',' param is mandatory\n            if (path.index < max && pathValue.charCodeAt(path.index) === 0x2c /* , */) {\n                path.index += 1;\n                skipSpaces(path);\n            }\n        }\n        if (path.index >= path.max) {\n            break;\n        }\n        // Stop on next segment\n        if (!isDigitStart(pathValue.charCodeAt(path.index))) {\n            break;\n        }\n    }\n    finalizeSegment(path);\n}\n//# sourceMappingURL=scan-segment.js.map","/**\n * Checks if the character is a path command.\n */\nexport function isPathCommand(code) {\n    // eslint-disable-next-line no-bitwise -- Impossible to satisfy\n    switch (code | 0x20) {\n        case 0x6d /* m */:\n        case 0x7a /* z */:\n        case 0x6c /* l */:\n        case 0x68 /* h */:\n        case 0x76 /* v */:\n        case 0x63 /* c */:\n        case 0x73 /* s */:\n        case 0x71 /* q */:\n        case 0x74 /* t */:\n        case 0x61 /* a */:\n            // case 0x72/* r */:\n            return true;\n        default:\n            return false;\n    }\n}\n//# sourceMappingURL=is-path-command.js.map","/**\n * Checks if the character is an A (arc-to) path command.\n */\nexport function isArcCommand(code) {\n    return (code | 0x20) === 0x61;\n}\n//# sourceMappingURL=is-arc-command.js.map","/**\n * The `PathParser` is used by the `parsePathString` static method\n * to generate a `pathArray`.\n */\nvar PathParser = /** @class */ (function () {\n    function PathParser(pathString) {\n        this.pathValue = pathString;\n        // @ts-ignore\n        this.segments = [];\n        this.max = pathString.length;\n        this.index = 0;\n        this.param = 0.0;\n        this.segmentStart = 0;\n        this.data = [];\n        this.err = '';\n    }\n    return PathParser;\n}());\nexport { PathParser };\n//# sourceMappingURL=path-parser.js.map","import { isAbsoluteArray } from '../util/is-absolute-array';\nimport { parsePathString } from '../parser/parse-path-string';\nexport function path2Absolute(pathInput) {\n    if (isAbsoluteArray(pathInput)) {\n        return [].concat(pathInput);\n    }\n    var path = parsePathString(pathInput);\n    // if (!path || !path.length) {\n    //   return [['M', 0, 0]];\n    // }\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    // @ts-ignore\n    return path.map(function (segment) {\n        var values = segment.slice(1).map(Number);\n        var pathCommand = segment[0];\n        var absCommand = pathCommand.toUpperCase();\n        if (pathCommand === 'M') {\n            x = values[0], y = values[1];\n            mx = x;\n            my = y;\n            return ['M', x, y];\n        }\n        var absoluteSegment;\n        if (pathCommand !== absCommand) {\n            switch (absCommand) {\n                case 'A':\n                    absoluteSegment = [\n                        absCommand,\n                        values[0],\n                        values[1],\n                        values[2],\n                        values[3],\n                        values[4],\n                        values[5] + x,\n                        values[6] + y,\n                    ];\n                    break;\n                case 'V':\n                    absoluteSegment = [absCommand, values[0] + y];\n                    break;\n                case 'H':\n                    absoluteSegment = [absCommand, values[0] + x];\n                    break;\n                default: {\n                    // use brakets for `eslint: no-case-declaration`\n                    // https://stackoverflow.com/a/50753272/803358\n                    var absValues = values.map(function (n, j) { return n + (j % 2 ? y : x); });\n                    // for n, l, c, s, q, t\n                    // @ts-ignore\n                    absoluteSegment = [absCommand].concat(absValues);\n                }\n            }\n        }\n        else {\n            // @ts-ignore\n            absoluteSegment = [absCommand].concat(values);\n        }\n        var segLength = absoluteSegment.length;\n        switch (absCommand) {\n            case 'Z':\n                x = mx;\n                y = my;\n                break;\n            case 'H':\n                x = absoluteSegment[1];\n                break;\n            case 'V':\n                y = absoluteSegment[1];\n                break;\n            default:\n                x = absoluteSegment[segLength - 2];\n                y = absoluteSegment[segLength - 1];\n                if (absCommand === 'M') {\n                    mx = x;\n                    my = y;\n                }\n        }\n        return absoluteSegment;\n    });\n}\n//# sourceMappingURL=path-2-absolute.js.map","import { isPathArray } from '../util/is-path-array';\nimport { scanSegment } from './scan-segment';\nimport { skipSpaces } from './skip-spaces';\nimport { PathParser } from './path-parser';\n/**\n * Parses a path string value and returns an array\n * of segments we like to call `pathArray`.\n */\nexport function parsePathString(pathInput) {\n    if (isPathArray(pathInput)) {\n        return [].concat(pathInput);\n    }\n    var path = new PathParser(pathInput);\n    skipSpaces(path);\n    while (path.index < path.max && !path.err.length) {\n        scanSegment(path);\n    }\n    return path.err ? path.err : path.segments;\n}\n//# sourceMappingURL=parse-path-string.js.map","/**\n * Normalizes a single segment of a `PathArray` object.\n * eg. H/V -> L, T -> Q\n */\nexport function normalizeSegment(segment, params) {\n    var pathCommand = segment[0];\n    var px1 = params.x1, py1 = params.y1, px2 = params.x2, py2 = params.y2;\n    var values = segment.slice(1).map(Number);\n    var result = segment;\n    if (!'TQ'.includes(pathCommand)) {\n        // optional but good to be cautious\n        params.qx = null;\n        params.qy = null;\n    }\n    if (pathCommand === 'H') {\n        result = ['L', segment[1], py1];\n    }\n    else if (pathCommand === 'V') {\n        result = ['L', px1, segment[1]];\n    }\n    else if (pathCommand === 'S') {\n        var x1 = px1 * 2 - px2;\n        var y1 = py1 * 2 - py2;\n        params.x1 = x1;\n        params.y1 = y1;\n        result = ['C', x1, y1].concat(values);\n    }\n    else if (pathCommand === 'T') {\n        var qx = px1 * 2 - params.qx;\n        var qy = py1 * 2 - params.qy;\n        params.qx = qx;\n        params.qy = qy;\n        result = ['Q', qx, qy].concat(values);\n    }\n    else if (pathCommand === 'Q') {\n        var nqx = values[0], nqy = values[1];\n        params.qx = nqx;\n        params.qy = nqy;\n    }\n    return result;\n}\n//# sourceMappingURL=normalize-segment.js.map","import { __assign } from \"tslib\";\nimport { isNormalizedArray } from '../util/is-normalized-array';\nimport { paramsParser } from '../parser/params-parser';\nimport { path2Absolute } from '../convert/path-2-absolute';\nimport { normalizeSegment } from './normalize-segment';\n/**\n * @example\n * const path = 'M0 0 H50';\n * const normalizedPath = SVGPathCommander.normalizePath(path);\n * // result => [['M', 0, 0], ['L', 50, 0]]\n */\nexport function normalizePath(pathInput) {\n    if (isNormalizedArray(pathInput)) {\n        return [].concat(pathInput);\n    }\n    var path = path2Absolute(pathInput);\n    var params = __assign({}, paramsParser);\n    for (var i = 0; i < path.length; i += 1) {\n        // Save current path command\n        path[i] = normalizeSegment(path[i], params);\n        var segment = path[i];\n        var seglen = segment.length;\n        params.x1 = +segment[seglen - 2];\n        params.y1 = +segment[seglen - 1];\n        params.x2 = +segment[seglen - 4] || params.x1;\n        params.y2 = +segment[seglen - 3] || params.y1;\n    }\n    return path;\n}\n//# sourceMappingURL=normalize-path.js.map","import { isAbsoluteArray } from './is-absolute-array';\n/**\n * Iterates an array to check if it's a `PathArray`\n * with all segments are in non-shorthand notation\n * with absolute values.\n */\nexport function isNormalizedArray(path) {\n    return isAbsoluteArray(path) && path.every(function (_a) {\n        var pc = _a[0];\n        return 'ACLMQZ'.includes(pc);\n    });\n}\n//# sourceMappingURL=is-normalized-array.js.map","export function distanceSquareRoot(a, b) {\n    return Math.sqrt((a[0] - b[0]) * (a[0] - b[0]) + (a[1] - b[1]) * (a[1] - b[1]));\n}\n//# sourceMappingURL=distance-square-root.js.map","import { midPoint } from './mid-point';\nimport { distanceSquareRoot } from './distance-square-root';\n/**\n * Returns a {x,y} point at a given length, the total length and\n * the minimum and maximum {x,y} coordinates of a line (L,V,H,Z) segment.\n */\nexport function segmentLineFactory(x1, y1, x2, y2, distance) {\n    var length = distanceSquareRoot([x1, y1], [x2, y2]);\n    var point = { x: 0, y: 0 };\n    if (typeof distance === 'number') {\n        if (distance <= 0) {\n            point = { x: x1, y: y1 };\n        }\n        else if (distance >= length) {\n            point = { x: x2, y: y2 };\n        }\n        else {\n            var _a = midPoint([x1, y1], [x2, y2], distance / length), x = _a[0], y = _a[1];\n            point = { x: x, y: y };\n        }\n    }\n    return {\n        length: length,\n        point: point,\n        min: {\n            x: Math.min(x1, x2),\n            y: Math.min(y1, y2),\n        },\n        max: {\n            x: Math.max(x1, x2),\n            y: Math.max(y1, y2),\n        },\n    };\n}\n//# sourceMappingURL=segment-line-factory.js.map","export function midPoint(a, b, t) {\n    var ax = a[0];\n    var ay = a[1];\n    var bx = b[0];\n    var by = b[1];\n    return [ax + (bx - ax) * t, ay + (by - ay) * t];\n}\n//# sourceMappingURL=mid-point.js.map","import { segmentLineFactory } from './segment-line-factory';\nimport { distanceSquareRoot } from './distance-square-root';\nfunction angleBetween(v0, v1) {\n    var v0x = v0.x, v0y = v0.y;\n    var v1x = v1.x, v1y = v1.y;\n    var p = v0x * v1x + v0y * v1y;\n    var n = Math.sqrt((Math.pow(v0x, 2) + Math.pow(v0y, 2)) * (Math.pow(v1x, 2) + Math.pow(v1y, 2)));\n    var sign = v0x * v1y - v0y * v1x < 0 ? -1 : 1;\n    var angle = sign * Math.acos(p / n);\n    return angle;\n}\n/**\n * Returns a {x,y} point at a given length, the total length and\n * the minimum and maximum {x,y} coordinates of a C (cubic-bezier) segment.\n * @see https://github.com/MadLittleMods/svg-curve-lib/blob/master/src/js/svg-curve-lib.js\n */\nfunction getPointAtArcSegmentLength(x1, y1, RX, RY, angle, LAF, SF, x, y, t) {\n    var abs = Math.abs, sin = Math.sin, cos = Math.cos, sqrt = Math.sqrt, PI = Math.PI;\n    var rx = abs(RX);\n    var ry = abs(RY);\n    var xRot = ((angle % 360) + 360) % 360;\n    var xRotRad = xRot * (PI / 180);\n    if (x1 === x && y1 === y) {\n        return { x: x1, y: y1 };\n    }\n    if (rx === 0 || ry === 0) {\n        return segmentLineFactory(x1, y1, x, y, t).point;\n    }\n    var dx = (x1 - x) / 2;\n    var dy = (y1 - y) / 2;\n    var transformedPoint = {\n        x: cos(xRotRad) * dx + sin(xRotRad) * dy,\n        y: -sin(xRotRad) * dx + cos(xRotRad) * dy,\n    };\n    var radiiCheck = Math.pow(transformedPoint.x, 2) / Math.pow(rx, 2) + Math.pow(transformedPoint.y, 2) / Math.pow(ry, 2);\n    if (radiiCheck > 1) {\n        rx *= sqrt(radiiCheck);\n        ry *= sqrt(radiiCheck);\n    }\n    var cSquareNumerator = Math.pow(rx, 2) * Math.pow(ry, 2) - Math.pow(rx, 2) * Math.pow(transformedPoint.y, 2) - Math.pow(ry, 2) * Math.pow(transformedPoint.x, 2);\n    var cSquareRootDenom = Math.pow(rx, 2) * Math.pow(transformedPoint.y, 2) + Math.pow(ry, 2) * Math.pow(transformedPoint.x, 2);\n    var cRadicand = cSquareNumerator / cSquareRootDenom;\n    cRadicand = cRadicand < 0 ? 0 : cRadicand;\n    var cCoef = (LAF !== SF ? 1 : -1) * sqrt(cRadicand);\n    var transformedCenter = {\n        x: cCoef * ((rx * transformedPoint.y) / ry),\n        y: cCoef * (-(ry * transformedPoint.x) / rx),\n    };\n    var center = {\n        x: cos(xRotRad) * transformedCenter.x - sin(xRotRad) * transformedCenter.y + (x1 + x) / 2,\n        y: sin(xRotRad) * transformedCenter.x + cos(xRotRad) * transformedCenter.y + (y1 + y) / 2,\n    };\n    var startVector = {\n        x: (transformedPoint.x - transformedCenter.x) / rx,\n        y: (transformedPoint.y - transformedCenter.y) / ry,\n    };\n    var startAngle = angleBetween({ x: 1, y: 0 }, startVector);\n    var endVector = {\n        x: (-transformedPoint.x - transformedCenter.x) / rx,\n        y: (-transformedPoint.y - transformedCenter.y) / ry,\n    };\n    var sweepAngle = angleBetween(startVector, endVector);\n    if (!SF && sweepAngle > 0) {\n        sweepAngle -= 2 * PI;\n    }\n    else if (SF && sweepAngle < 0) {\n        sweepAngle += 2 * PI;\n    }\n    sweepAngle %= 2 * PI;\n    var alpha = startAngle + sweepAngle * t;\n    var ellipseComponentX = rx * cos(alpha);\n    var ellipseComponentY = ry * sin(alpha);\n    var point = {\n        x: cos(xRotRad) * ellipseComponentX - sin(xRotRad) * ellipseComponentY + center.x,\n        y: sin(xRotRad) * ellipseComponentX + cos(xRotRad) * ellipseComponentY + center.y,\n    };\n    // to be used later\n    // point.ellipticalArcStartAngle = startAngle;\n    // point.ellipticalArcEndAngle = startAngle + sweepAngle;\n    // point.ellipticalArcAngle = alpha;\n    // point.ellipticalArcCenter = center;\n    // point.resultantRx = rx;\n    // point.resultantRy = ry;\n    return point;\n}\n/**\n * Returns a {x,y} point at a given length, the total length and\n * the shape minimum and maximum {x,y} coordinates of an A (arc-to) segment.\n *\n * For better performance, it can skip calculate bbox or length in some scenario.\n */\nexport function segmentArcFactory(X1, Y1, RX, RY, angle, LAF, SF, X2, Y2, distance, options) {\n    var _a;\n    var _b = options.bbox, bbox = _b === void 0 ? true : _b, _c = options.length, length = _c === void 0 ? true : _c, _d = options.sampleSize, sampleSize = _d === void 0 ? 30 : _d;\n    var distanceIsNumber = typeof distance === 'number';\n    var x = X1;\n    var y = Y1;\n    var LENGTH = 0;\n    var prev = [x, y, LENGTH];\n    var cur = [x, y];\n    var t = 0;\n    var POINT = { x: 0, y: 0 };\n    var POINTS = [{ x: x, y: y }];\n    if (distanceIsNumber && distance <= 0) {\n        POINT = { x: x, y: y };\n    }\n    // bad perf when size > 100\n    for (var j = 0; j <= sampleSize; j += 1) {\n        t = j / sampleSize;\n        (_a = getPointAtArcSegmentLength(X1, Y1, RX, RY, angle, LAF, SF, X2, Y2, t), x = _a.x, y = _a.y);\n        if (bbox) {\n            POINTS.push({ x: x, y: y });\n        }\n        if (length) {\n            LENGTH += distanceSquareRoot(cur, [x, y]);\n        }\n        cur = [x, y];\n        if (distanceIsNumber && LENGTH >= distance && distance > prev[2]) {\n            var dv = (LENGTH - distance) / (LENGTH - prev[2]);\n            POINT = {\n                x: cur[0] * (1 - dv) + prev[0] * dv,\n                y: cur[1] * (1 - dv) + prev[1] * dv,\n            };\n        }\n        prev = [x, y, LENGTH];\n    }\n    if (distanceIsNumber && distance >= LENGTH) {\n        POINT = { x: X2, y: Y2 };\n    }\n    return {\n        length: LENGTH,\n        point: POINT,\n        min: {\n            x: Math.min.apply(null, POINTS.map(function (n) { return n.x; })),\n            y: Math.min.apply(null, POINTS.map(function (n) { return n.y; })),\n        },\n        max: {\n            x: Math.max.apply(null, POINTS.map(function (n) { return n.x; })),\n            y: Math.max.apply(null, POINTS.map(function (n) { return n.y; })),\n        },\n    };\n}\n//# sourceMappingURL=segment-arc-factory.js.map","import { distanceSquareRoot } from './distance-square-root';\n/**\n * Returns a {x,y} point at a given length, the total length and\n * the minimum and maximum {x,y} coordinates of a C (cubic-bezier) segment.\n */\nfunction getPointAtCubicSegmentLength(x1, y1, c1x, c1y, c2x, c2y, x2, y2, t) {\n    var t1 = 1 - t;\n    return {\n        x: Math.pow(t1, 3) * x1 + 3 * Math.pow(t1, 2) * t * c1x + 3 * t1 * Math.pow(t, 2) * c2x + Math.pow(t, 3) * x2,\n        y: Math.pow(t1, 3) * y1 + 3 * Math.pow(t1, 2) * t * c1y + 3 * t1 * Math.pow(t, 2) * c2y + Math.pow(t, 3) * y2,\n    };\n}\n/**\n * Returns the length of a C (cubic-bezier) segment\n * or an {x,y} point at a given length.\n */\nexport function segmentCubicFactory(x1, y1, c1x, c1y, c2x, c2y, x2, y2, distance, options) {\n    var _a;\n    var _b = options.bbox, bbox = _b === void 0 ? true : _b, _c = options.length, length = _c === void 0 ? true : _c, _d = options.sampleSize, sampleSize = _d === void 0 ? 10 : _d;\n    var distanceIsNumber = typeof distance === 'number';\n    var x = x1;\n    var y = y1;\n    var LENGTH = 0;\n    var prev = [x, y, LENGTH];\n    var cur = [x, y];\n    var t = 0;\n    var POINT = { x: 0, y: 0 };\n    var POINTS = [{ x: x, y: y }];\n    if (distanceIsNumber && distance <= 0) {\n        POINT = { x: x, y: y };\n    }\n    // bad perf when size = 300\n    for (var j = 0; j <= sampleSize; j += 1) {\n        t = j / sampleSize;\n        (_a = getPointAtCubicSegmentLength(x1, y1, c1x, c1y, c2x, c2y, x2, y2, t), x = _a.x, y = _a.y);\n        if (bbox) {\n            POINTS.push({ x: x, y: y });\n        }\n        if (length) {\n            LENGTH += distanceSquareRoot(cur, [x, y]);\n        }\n        cur = [x, y];\n        if (distanceIsNumber && LENGTH >= distance && distance > prev[2]) {\n            var dv = (LENGTH - distance) / (LENGTH - prev[2]);\n            POINT = {\n                x: cur[0] * (1 - dv) + prev[0] * dv,\n                y: cur[1] * (1 - dv) + prev[1] * dv,\n            };\n        }\n        prev = [x, y, LENGTH];\n    }\n    if (distanceIsNumber && distance >= LENGTH) {\n        POINT = { x: x2, y: y2 };\n    }\n    return {\n        length: LENGTH,\n        point: POINT,\n        min: {\n            x: Math.min.apply(null, POINTS.map(function (n) { return n.x; })),\n            y: Math.min.apply(null, POINTS.map(function (n) { return n.y; })),\n        },\n        max: {\n            x: Math.max.apply(null, POINTS.map(function (n) { return n.x; })),\n            y: Math.max.apply(null, POINTS.map(function (n) { return n.y; })),\n        },\n    };\n}\n//# sourceMappingURL=segment-cubic-factory.js.map","import { distanceSquareRoot } from './distance-square-root';\n/**\n * Returns the {x,y} coordinates of a point at a\n * given length of a quadratic-bezier segment.\n *\n * @see https://github.com/substack/point-at-length\n */\nfunction getPointAtQuadSegmentLength(x1, y1, cx, cy, x2, y2, t) {\n    var t1 = 1 - t;\n    return {\n        x: Math.pow(t1, 2) * x1 + 2 * t1 * t * cx + Math.pow(t, 2) * x2,\n        y: Math.pow(t1, 2) * y1 + 2 * t1 * t * cy + Math.pow(t, 2) * y2,\n    };\n}\n/**\n * Returns a {x,y} point at a given length, the total length and\n * the minimum and maximum {x,y} coordinates of a Q (quadratic-bezier) segment.\n */\nexport function segmentQuadFactory(x1, y1, qx, qy, x2, y2, distance, options) {\n    var _a;\n    var _b = options.bbox, bbox = _b === void 0 ? true : _b, _c = options.length, length = _c === void 0 ? true : _c, _d = options.sampleSize, sampleSize = _d === void 0 ? 10 : _d;\n    var distanceIsNumber = typeof distance === 'number';\n    var x = x1;\n    var y = y1;\n    var LENGTH = 0;\n    var prev = [x, y, LENGTH];\n    var cur = [x, y];\n    var t = 0;\n    var POINT = { x: 0, y: 0 };\n    var POINTS = [{ x: x, y: y }];\n    if (distanceIsNumber && distance <= 0) {\n        POINT = { x: x, y: y };\n    }\n    for (var j = 0; j <= sampleSize; j += 1) {\n        t = j / sampleSize;\n        (_a = getPointAtQuadSegmentLength(x1, y1, qx, qy, x2, y2, t), x = _a.x, y = _a.y);\n        if (bbox) {\n            POINTS.push({ x: x, y: y });\n        }\n        if (length) {\n            LENGTH += distanceSquareRoot(cur, [x, y]);\n        }\n        cur = [x, y];\n        if (distanceIsNumber && LENGTH >= distance && distance > prev[2]) {\n            var dv = (LENGTH - distance) / (LENGTH - prev[2]);\n            POINT = {\n                x: cur[0] * (1 - dv) + prev[0] * dv,\n                y: cur[1] * (1 - dv) + prev[1] * dv,\n            };\n        }\n        prev = [x, y, LENGTH];\n    }\n    /* istanbul ignore else */\n    if (distanceIsNumber && distance >= LENGTH) {\n        POINT = { x: x2, y: y2 };\n    }\n    return {\n        length: LENGTH,\n        point: POINT,\n        min: {\n            x: Math.min.apply(null, POINTS.map(function (n) { return n.x; })),\n            y: Math.min.apply(null, POINTS.map(function (n) { return n.y; })),\n        },\n        max: {\n            x: Math.max.apply(null, POINTS.map(function (n) { return n.x; })),\n            y: Math.max.apply(null, POINTS.map(function (n) { return n.y; })),\n        },\n    };\n}\n//# sourceMappingURL=segment-quad-factory.js.map","import { __assign } from \"tslib\";\nimport { pathLengthFactory } from './path-length-factory';\n/**\n * Returns the shape total length, or the equivalent to `shape.getTotalLength()`.\n *\n * The `normalizePath` version is lighter, faster, more efficient and more accurate\n * with paths that are not `curveArray`.\n */\nexport function getTotalLength(pathInput, options) {\n    return pathLengthFactory(pathInput, undefined, __assign(__assign({}, options), { bbox: false, length: true })).length;\n}\n//# sourceMappingURL=get-total-length.js.map","import { normalizePath } from '../process/normalize-path';\nimport { segmentLineFactory } from './segment-line-factory';\nimport { segmentArcFactory } from './segment-arc-factory';\nimport { segmentCubicFactory } from './segment-cubic-factory';\nimport { segmentQuadFactory } from './segment-quad-factory';\n/**\n * Returns a {x,y} point at a given length\n * of a shape, the shape total length and\n * the shape minimum and maximum {x,y} coordinates.\n */\nexport function pathLengthFactory(pathInput, distance, options) {\n    var _a, _b, _c, _d, _e, _f;\n    var path = normalizePath(pathInput);\n    var distanceIsNumber = typeof distance === 'number';\n    var isM;\n    var data = [];\n    var pathCommand;\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var seg;\n    var MIN = [];\n    var MAX = [];\n    var length = 0;\n    var min = { x: 0, y: 0 };\n    var max = min;\n    var point = min;\n    var POINT = min;\n    var LENGTH = 0;\n    for (var i = 0, ll = path.length; i < ll; i += 1) {\n        seg = path[i];\n        pathCommand = seg[0];\n        isM = pathCommand === 'M';\n        data = !isM ? [x, y].concat(seg.slice(1)) : data;\n        // this segment is always ZERO\n        /* istanbul ignore else */\n        if (isM) {\n            // remember mx, my for Z\n            mx = seg[1], my = seg[2];\n            min = { x: mx, y: my };\n            max = min;\n            length = 0;\n            if (distanceIsNumber && distance < 0.001) {\n                POINT = min;\n            }\n        }\n        else if (pathCommand === 'L') {\n            (_a = segmentLineFactory(data[0], data[1], data[2], data[3], (distance || 0) - LENGTH), length = _a.length, min = _a.min, max = _a.max, point = _a.point);\n        }\n        else if (pathCommand === 'A') {\n            (_b = segmentArcFactory(data[0], data[1], data[2], data[3], data[4], data[5], data[6], data[7], data[8], (distance || 0) - LENGTH, options || {}), length = _b.length, min = _b.min, max = _b.max, point = _b.point);\n        }\n        else if (pathCommand === 'C') {\n            (_c = segmentCubicFactory(data[0], data[1], data[2], data[3], data[4], data[5], data[6], data[7], (distance || 0) - LENGTH, options || {}), length = _c.length, min = _c.min, max = _c.max, point = _c.point);\n        }\n        else if (pathCommand === 'Q') {\n            (_d = segmentQuadFactory(data[0], data[1], data[2], data[3], data[4], data[5], (distance || 0) - LENGTH, options || {}), length = _d.length, min = _d.min, max = _d.max, point = _d.point);\n        }\n        else if (pathCommand === 'Z') {\n            data = [x, y, mx, my];\n            (_e = segmentLineFactory(data[0], data[1], data[2], data[3], (distance || 0) - LENGTH), length = _e.length, min = _e.min, max = _e.max, point = _e.point);\n        }\n        if (distanceIsNumber && LENGTH < distance && LENGTH + length >= distance) {\n            POINT = point;\n        }\n        MAX.push(max);\n        MIN.push(min);\n        LENGTH += length;\n        _f = pathCommand !== 'Z' ? seg.slice(-2) : [mx, my], x = _f[0], y = _f[1];\n    }\n    // native `getPointAtLength` behavior when the given distance\n    // is higher than total length\n    if (distanceIsNumber && distance >= LENGTH) {\n        POINT = { x: x, y: y };\n    }\n    return {\n        length: LENGTH,\n        point: POINT,\n        min: {\n            x: Math.min.apply(null, MIN.map(function (n) { return n.x; })),\n            y: Math.min.apply(null, MIN.map(function (n) { return n.y; })),\n        },\n        max: {\n            x: Math.max.apply(null, MAX.map(function (n) { return n.x; })),\n            y: Math.max.apply(null, MAX.map(function (n) { return n.y; })),\n        },\n    };\n}\n//# sourceMappingURL=path-length-factory.js.map","// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexport default isNil;\n//# sourceMappingURL=is-nil.js.map","var toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexport default isType;\n//# sourceMappingURL=is-type.js.map","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","import { __assign, __read, __rest, __spreadArray } from \"tslib\";\nimport { definedProps, Ellipse, Group, Rect, Path, Image, Shape, isCanvas, isDisplayObject, } from '@antv/g-lite';\nimport { isNil } from '@antv/util';\nimport { path2String } from '@antv/util';\nvar eps = 0.0001;\n/**\n * Provides some control methods like:\n * - play\n * - pause\n * - stop\n * - goToAndStop\n * - goToAndPlay\n * @see https://github.com/airbnb/lottie-web/blob/master/player/js/animation/AnimationItem.js\n */\nvar LottieAnimation = /** @class */ (function () {\n    function LottieAnimation(width, height, elements, context) {\n        var _this = this;\n        this.width = width;\n        this.height = height;\n        this.elements = elements;\n        this.context = context;\n        this.keyframeAnimationMap = new WeakMap();\n        this.displayObjectElementMap = new WeakMap();\n        this.animations = [];\n        this.isPaused = false;\n        this.direction = 1;\n        this.displayObjects = elements.map(function (element) {\n            return _this.buildHierachy(element);\n        });\n        // TODO: preload images\n        // TODO: preload fonts\n    }\n    LottieAnimation.prototype.generateTransform = function (tx, ty, scaleX, scaleY, rotation) {\n        var transformStr = '';\n        if (tx !== 0 || ty !== 0) {\n            transformStr += \"translate(\".concat(tx, \", \").concat(ty, \")\");\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            transformStr += \" scale(\".concat(scaleX === 0 ? eps : scaleX, \", \").concat(scaleY === 0 ? eps : scaleY, \")\");\n        }\n        if (rotation !== 0) {\n            transformStr += \" rotate(\".concat(rotation, \"deg)\");\n        }\n        return transformStr;\n    };\n    LottieAnimation.prototype.buildHierachy = function (element) {\n        var _this = this;\n        var type = element.type, name = element.name, _a = element.anchorX, anchorX = _a === void 0 ? 0 : _a, _b = element.anchorY, anchorY = _b === void 0 ? 0 : _b, _c = element.rotation, rotation = _c === void 0 ? 0 : _c, _d = element.scaleX, scaleX = _d === void 0 ? 1 : _d, _e = element.scaleY, scaleY = _e === void 0 ? 1 : _e, _f = element.x, x = _f === void 0 ? 0 : _f, _g = element.y, y = _g === void 0 ? 0 : _g, \n        // skew = 0,\n        // skewAxis = 0,\n        children = element.children, shape = element.shape, style = element.style, keyframeAnimation = element.keyframeAnimation;\n        var displayObject;\n        var transform = this.generateTransform(x - anchorX, y - anchorY, scaleX, scaleY, rotation);\n        // const transformMat = mat4.fromRotationTranslationScaleOrigin(\n        //   mat4.create(),\n        //   quat.fromEuler(quat.create(), 0, 0, rotation),\n        //   [x - anchorX, y - anchorY, 0],\n        //   [scaleX, scaleY, 1],\n        //   [anchorX, anchorY, 0],\n        // );\n        // TODO: repeater @see https://lottiefiles.github.io/lottie-docs/shapes/#repeater\n        // @see https://lottiefiles.github.io/lottie-docs/shapes/#shape\n        // TODO: polystar, convert to Bezier @see https://lottiefiles.github.io/lottie-docs/rendering/#polystar\n        if (type === Shape.GROUP) {\n            displayObject = new Group({\n                style: {\n                    transformOrigin: \"\".concat(anchorX, \"px \").concat(anchorY, \"px\"),\n                    transform: transform,\n                },\n            });\n        }\n        else if (type === Shape.ELLIPSE) {\n            var cx = shape.cx, cy = shape.cy, rx = shape.rx, ry = shape.ry;\n            // const center = vec3.fromValues(cx, cy, 0);\n            // vec3.transformMat4(center, center, transformMat);\n            displayObject = new Ellipse({\n                style: {\n                    // cx: center[0],\n                    // cy: center[1],\n                    cx: cx,\n                    cy: cy,\n                    rx: rx,\n                    ry: ry,\n                    // reset transform-origin based on anchor & center\n                    transformOrigin: \"\".concat(anchorX - cx + rx, \"px \").concat(anchorY - cy + ry, \"px\"),\n                    transform: transform,\n                },\n            });\n        }\n        else if (type === Shape.PATH) {\n            var d = this.generatePathFromShape(shape);\n            displayObject = new Path({\n                style: {\n                    d: d,\n                    transformOrigin: \"\".concat(anchorX, \"px \").concat(anchorY, \"px\"),\n                    transform: transform,\n                },\n            });\n        }\n        else if (type === Shape.RECT) {\n            // @see https://lottiefiles.github.io/lottie-docs/shapes/#rectangle\n            var cx = shape.x, cy = shape.y, width = shape.width, height = shape.height, r = shape.r;\n            displayObject = new Rect({\n                style: {\n                    x: cx,\n                    y: cy,\n                    width: width,\n                    height: height,\n                    anchor: [0.5, 0.5],\n                    radius: r,\n                    transformOrigin: \"\".concat(anchorX - cx + width / 2, \"px \").concat(anchorY - cy + height / 2, \"px\"),\n                    transform: transform,\n                },\n            });\n        }\n        else if (type === Shape.IMAGE) {\n            var width = shape.width, height = shape.height, src = shape.src;\n            displayObject = new Image({\n                style: {\n                    x: 0,\n                    y: 0,\n                    width: width,\n                    height: height,\n                    src: src,\n                    transformOrigin: \"\".concat(anchorX, \"px \").concat(anchorY, \"px\"),\n                    transform: transform,\n                },\n            });\n        }\n        if (name) {\n            displayObject.name = name;\n        }\n        // TODO: match name `mn`, used in expressions\n        if (style) {\n            // { fill, fillOpacity, fillRule, opacity, lineDash, lineDashOffset }\n            displayObject.attr(style);\n        }\n        if (keyframeAnimation) {\n            this.keyframeAnimationMap.set(displayObject, keyframeAnimation);\n        }\n        if (children) {\n            var childNodes = children.map(function (child) { return _this.buildHierachy(child); });\n            displayObject.append.apply(displayObject, __spreadArray([], __read(childNodes), false));\n        }\n        this.displayObjectElementMap.set(displayObject, element);\n        return displayObject;\n    };\n    LottieAnimation.prototype.getAnimations = function () {\n        return this.animations;\n    };\n    /**\n     * Returns the animation duration in seconds or frames.\n     * @see https://github.com/airbnb/lottie-web#getdurationinframes\n     */\n    LottieAnimation.prototype.getDuration = function (inFrames) {\n        if (inFrames === void 0) { inFrames = false; }\n        return (((inFrames ? this.fps() : 1) *\n            (this.context.endFrame - this.context.startFrame) *\n            this.context.frameTime) /\n            1000);\n    };\n    /**\n     * Returns the animation frame rate (frames / second).\n     */\n    LottieAnimation.prototype.fps = function () {\n        return this.context.fps;\n    };\n    LottieAnimation.prototype.isSameKeyframeOptions = function (options1, options2) {\n        return (options1.delay === options2.delay &&\n            options1.duration === options2.duration &&\n            options1.easing === options2.easing);\n    };\n    LottieAnimation.prototype.isSameKeyframes = function (keyframe1, keyframe2) {\n        // const { offset: o1, easing: e1, ...rest1 } = keyframe1;\n        // const { offset: o2, easing: e2, ...rest2 } = keyframe2;\n        // const isAllApplyToTransform =\n        //   Object.keys(rest1).every((key) =>\n        //     ['x', 'y', 'scaleX', 'scaleY', 'rotation'].includes(key),\n        //   ) &&\n        //   Object.keys(rest2).every((key) =>\n        //     ['x', 'y', 'scaleX', 'scaleY', 'rotation'].includes(key),\n        //   );\n        return (keyframe1.offset === keyframe2.offset &&\n            keyframe1.easing === keyframe2.easing\n        // (keyframe1.easing === keyframe2.easing || isAllApplyToTransform)\n        );\n    };\n    LottieAnimation.prototype.generatePathFromShape = function (shape) {\n        // @see https://lottiefiles.github.io/lottie-docs/shapes/#path\n        var close = shape.close, v = shape.v, i = shape.in, out = shape.out;\n        var d = [];\n        d.push(['M', v[0][0], v[0][1]]);\n        for (var n = 1; n < v.length; n++) {\n            // @see https://lottiefiles.github.io/lottie-docs/concepts/#bezier\n            // The nth bezier segment is defined as:\n            // v[n], v[n]+o[n], v[n+1]+i[n+1], v[n+1]\n            d.push([\n                'C',\n                out[n - 1][0],\n                out[n - 1][1],\n                i[n][0],\n                i[n][1],\n                v[n][0],\n                v[n][1],\n            ]);\n        }\n        if (close) {\n            d.push([\n                'C',\n                out[v.length - 1][0],\n                out[v.length - 1][1],\n                i[0][0],\n                i[0][1],\n                v[0][0],\n                v[0][1],\n            ]);\n            d.push(['Z']);\n        }\n        return d;\n    };\n    /**\n     * render Lottie Group to canvas or a mounted display object\n     */\n    LottieAnimation.prototype.render = function (canvasOrDisplayObject) {\n        var _this = this;\n        var wrapper = new Group();\n        wrapper.append.apply(wrapper, __spreadArray([], __read(this.displayObjects), false));\n        if (isCanvas(canvasOrDisplayObject)) {\n            canvasOrDisplayObject.appendChild(wrapper);\n        }\n        else if (isDisplayObject(canvasOrDisplayObject)) {\n            if (!canvasOrDisplayObject.isConnected) {\n                throw new Error('[g-lottie-player]: Cannot render Lottie to an unmounted DisplayObject.');\n            }\n            else {\n                canvasOrDisplayObject.appendChild(wrapper);\n            }\n        }\n        else {\n            throw new Error('[g-lottie-player]: We should render Lottie to a mounted DisplayObject or Canvas.');\n        }\n        this.displayObjects.forEach(function (parent) {\n            parent.forEach(function (child) {\n                var _a;\n                var keyframeAnimation = _this.keyframeAnimationMap.get(child);\n                // console.log('keyframeAnimation', keyframeAnimation);\n                var element = _this.displayObjectElementMap.get(child);\n                if (element && element.clipPath) {\n                    var _b = element.clipPath, shape = _b.shape, keyframeAnimation_1 = _b.keyframeAnimation;\n                    var clipPath = new Path();\n                    // use clipPath as target's siblings\n                    child.parentElement.appendChild(clipPath);\n                    child.style.clipPath = clipPath;\n                    if (shape) {\n                        clipPath.style.d = _this.generatePathFromShape(shape);\n                    }\n                    // TODO: only support one clipPath now\n                    if (keyframeAnimation_1 && keyframeAnimation_1.length) {\n                        var _c = keyframeAnimation_1[0], delay = _c.delay, duration = _c.duration, easing = _c.easing, keyframes = _c.keyframes;\n                        // animate clipPath with its `d` property\n                        var clipPathAnimation = clipPath.animate(keyframes.map(function (_a) {\n                            var offset = _a.offset, shape = _a.shape, easing = _a.easing;\n                            return {\n                                offset: offset,\n                                d: path2String(_this.generatePathFromShape(shape)),\n                                easing: easing,\n                            };\n                        }), {\n                            delay: delay,\n                            duration: duration,\n                            easing: easing,\n                            iterations: _this.context.iterations,\n                        });\n                        _this.animations.push(clipPathAnimation);\n                    }\n                }\n                // account for animation only apply to visibility, e.g. spring\n                var visibilityStartOffset = element.visibilityStartOffset, visibilityEndOffset = element.visibilityEndOffset, visibilityFrame = element.visibilityFrame;\n                if (visibilityFrame &&\n                    (!keyframeAnimation || !keyframeAnimation.length)) {\n                    keyframeAnimation = [\n                        {\n                            duration: _this.context.frameTime * visibilityFrame,\n                            keyframes: [\n                                { offset: 0, style: { opacity: 1 } },\n                                { offset: 1, style: { opacity: 1 } },\n                            ],\n                        },\n                    ];\n                }\n                if (keyframeAnimation && keyframeAnimation.length) {\n                    var keyframesOptions_1 = [];\n                    keyframeAnimation.map(function (_a) {\n                        var _b = _a.delay, delay = _b === void 0 ? 0 : _b, duration = _a.duration, easing = _a.easing, keyframes = _a.keyframes;\n                        var formattedKeyframes = keyframes.map(function (keyframe) {\n                            return definedProps(keyframe);\n                        });\n                        var options = definedProps({\n                            delay: delay,\n                            duration: duration,\n                            easing: easing,\n                            iterations: _this.context.iterations,\n                            fill: _this.context.fill,\n                        });\n                        keyframesOptions_1.push([formattedKeyframes, options]);\n                    });\n                    var mergedKeyframesOptions = [keyframesOptions_1[0]];\n                    var _loop_1 = function (i) {\n                        var _d = __read(keyframesOptions_1[i], 2), currentKeyframes = _d[0], currentOptions = _d[1];\n                        // can merge options?\n                        var existedKeyframeOptions = mergedKeyframesOptions.find(function (_a) {\n                            var _b = __read(_a, 2), keyframes = _b[0], options = _b[1];\n                            return keyframes.length === currentKeyframes.length &&\n                                _this.isSameKeyframeOptions(currentOptions, options);\n                        });\n                        if (existedKeyframeOptions) {\n                            currentKeyframes.forEach(function (currentKeyframe) {\n                                var existedKeyframe = existedKeyframeOptions[0].find(function (keyframe) { return _this.isSameKeyframes(currentKeyframe, keyframe); });\n                                if (existedKeyframe) {\n                                    var offset = currentKeyframe.offset, \n                                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                    _a = currentKeyframe.easing, \n                                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                    easing = _a === void 0 ? 'linear' : _a, rest = __rest(currentKeyframe, [\"offset\", \"easing\"]);\n                                    // merge interpolated properties\n                                    Object.assign(existedKeyframe, rest);\n                                }\n                                else {\n                                    // append if cannot be merged\n                                    existedKeyframeOptions[0].push(currentKeyframe);\n                                }\n                            });\n                        }\n                        else {\n                            // cannot be merged since options are different\n                            mergedKeyframesOptions.push(keyframesOptions_1[i]);\n                        }\n                    };\n                    // merge [{ offset: 0, cx: 1 }, { offset: 0, cy: 1 }] into { offset: 0, cx: 1, cy: 1 }\n                    for (var i = 1; i < keyframesOptions_1.length; i++) {\n                        _loop_1(i);\n                    }\n                    // restore animations for later use\n                    (_a = _this.animations).push.apply(_a, __spreadArray([], __read(mergedKeyframesOptions\n                        .map(function (_a) {\n                        var _b = __read(_a, 2), merged = _b[0], options = _b[1];\n                        // format interpolated properties, e.g. scaleX -> transform\n                        var formatted = _this.formatKeyframes(merged, child);\n                        if (formatted.length) {\n                            // console.log(child, formatted);\n                            var animation_1 = child.animate(formatted, options);\n                            if (!isNil(visibilityStartOffset) &&\n                                !isNil(visibilityEndOffset)) {\n                                child.style.visibility = 'hidden';\n                                animation_1.onframe = function () {\n                                    var progress = animation_1.effect.getComputedTiming().progress;\n                                    if (progress >= visibilityStartOffset &&\n                                        progress < visibilityEndOffset) {\n                                        child.style.visibility = 'visible';\n                                    }\n                                    else {\n                                        child.style.visibility = 'hidden';\n                                    }\n                                };\n                            }\n                            if (!_this.context.autoplay) {\n                                animation_1.pause();\n                            }\n                            return animation_1;\n                        }\n                    })\n                        .filter(function (animation) { return !!animation; })), false));\n                }\n            });\n        });\n        return wrapper;\n    };\n    LottieAnimation.prototype.formatKeyframes = function (keyframes, object) {\n        keyframes.forEach(function (keyframe) {\n            // if ('offsetPath' in keyframe) {\n            //   if (!object.style.offsetPath) {\n            //     const [ox, oy] = object.getOrigin();\n            //     (keyframe.offsetPath as AbsoluteArray).forEach((segment) => {\n            //       if (segment[0] === 'M') {\n            //         segment[1] -= ox;\n            //         segment[2] -= oy;\n            //       } else if (segment[0] === 'C') {\n            //         segment[1] -= ox;\n            //         segment[2] -= oy;\n            //         segment[3] -= ox;\n            //         segment[4] -= oy;\n            //         segment[5] -= ox;\n            //         segment[6] -= oy;\n            //       }\n            //     });\n            //     const offsetPath = new Path({\n            //       style: {\n            //         d: keyframe.offsetPath,\n            //       },\n            //     });\n            //     object.style.offsetPath = offsetPath;\n            //     console.log(offsetPath);\n            //   }\n            //   delete keyframe.offsetPath;\n            //   // offsetPath should override x/y\n            //   delete keyframe.x;\n            //   delete keyframe.y;\n            // }\n            // should keep transform during initialization\n            // if (!object.style.offsetPath) {\n            //   keyframe.transform = object.style.transform || '';\n            // }\n            keyframe.transform = object.style.transform || '';\n            // TODO: transforms with different easing functions will conflict\n            if ('scaleX' in keyframe) {\n                keyframe.transform =\n                    (keyframe.transform || '') +\n                        \" scaleX(\".concat(keyframe.scaleX === 0 ? eps : keyframe.scaleX, \")\");\n                delete keyframe.scaleX;\n            }\n            if ('scaleY' in keyframe) {\n                keyframe.transform =\n                    (keyframe.transform || '') +\n                        \" scaleY(\".concat(keyframe.scaleY === 0 ? eps : keyframe.scaleY, \")\");\n                delete keyframe.scaleY;\n            }\n            if ('rotation' in keyframe) {\n                keyframe.transform =\n                    (keyframe.transform || '') + \" rotate(\".concat(keyframe.rotation, \"deg)\");\n                delete keyframe.rotation;\n            }\n            // TODO: skew & skewAxis\n            // if ('skew' in keyframe) {\n            //   keyframe.transform = (keyframe.transform || '') + ` skew(${keyframe.skew}deg)`;\n            //   delete keyframe.skew;\n            // }\n            if ('x' in keyframe) {\n                keyframe.transform =\n                    (keyframe.transform || '') + \" translateX(\".concat(keyframe.x, \"px)\");\n                delete keyframe.x;\n            }\n            if ('y' in keyframe) {\n                keyframe.transform =\n                    (keyframe.transform || '') + \" translateY(\".concat(keyframe.y, \"px)\");\n                delete keyframe.y;\n            }\n            // { style: { opacity: 1 } }\n            if ('style' in keyframe) {\n                Object.keys(keyframe.style).forEach(function (name) {\n                    keyframe[name] = keyframe.style[name];\n                });\n                delete keyframe.style;\n            }\n        });\n        // ignore empty interpolable attributes\n        keyframes = keyframes.filter(function (keyframe) {\n            // TODO: support negative offset\n            var ignore = keyframe.ignore, easing = keyframe.easing, offset = keyframe.offset, rest = __rest(keyframe, [\"ignore\", \"easing\", \"offset\"]);\n            return offset >= 0 && Object.keys(rest).length > 0;\n            // return Object.keys(rest).length > 0;\n        });\n        if (keyframes.length) {\n            // padding offset = 1\n            if (keyframes[keyframes.length - 1].offset !== 1) {\n                keyframes.push(__assign(__assign({}, keyframes[keyframes.length - 1]), { offset: 1 }));\n            }\n        }\n        // sort by offset\n        keyframes.sort(function (a, b) { return a.offset - b.offset; });\n        // remove empty attributes\n        keyframes.forEach(function (keyframe) {\n            Object.keys(keyframe).forEach(function (name) {\n                if (keyframe[name] === '') {\n                    delete keyframe[name];\n                }\n            });\n        });\n        return keyframes;\n    };\n    /**\n     * Destroy all internal displayobjects.\n     */\n    LottieAnimation.prototype.destroy = function () {\n        this.displayObjects.forEach(function (object) {\n            object.destroy();\n        });\n    };\n    /**\n     * Return the size of this animation.\n     * @param outputSize - If provided, the size will be copied into here as width, height.\n     */\n    LottieAnimation.prototype.size = function (outputSize) {\n        return { width: this.width, height: this.height };\n    };\n    /**\n     * Bodymovin version\n     */\n    LottieAnimation.prototype.version = function () {\n        return this.context.version;\n    };\n    LottieAnimation.prototype.play = function () {\n        this.isPaused = false;\n        this.animations.forEach(function (animation) {\n            animation.play();\n        });\n    };\n    /**\n     * Can contain 2 numeric values that will be used as first and last frame of the animation.\n     * @see https://github.com/airbnb/lottie-web#playsegmentssegments-forceflag\n     */\n    LottieAnimation.prototype.playSegments = function (segments) {\n        var _this = this;\n        var _a = __read(segments, 2), firstFrame = _a[0], lastFrame = _a[1];\n        this.isPaused = false;\n        this.animations.forEach(function (animation) {\n            animation.currentTime = (firstFrame / _this.fps()) * 1000;\n            var originOnFrame = animation.onframe;\n            animation.onframe = function (e) {\n                if (originOnFrame) {\n                    // @ts-ignore\n                    originOnFrame(e);\n                }\n                if (animation.currentTime >= (lastFrame / _this.fps()) * 1000) {\n                    animation.finish();\n                    if (originOnFrame) {\n                        animation.onframe = originOnFrame;\n                    }\n                    else {\n                        animation.onframe = null;\n                    }\n                }\n            };\n            animation.play();\n        });\n    };\n    LottieAnimation.prototype.pause = function () {\n        this.isPaused = true;\n        this.animations.forEach(function (animation) {\n            animation.pause();\n        });\n    };\n    /**\n     *\n     */\n    LottieAnimation.prototype.togglePause = function () {\n        if (this.isPaused) {\n            this.play();\n        }\n        else {\n            this.pause();\n        }\n    };\n    /**\n     * Goto and stop at a specific time(in seconds) or frame.\n     * Split goToAndStop/Play into goTo & stop/play\n     * @see https://github.com/airbnb/lottie-web\n     */\n    LottieAnimation.prototype.goTo = function (value, isFrame) {\n        var _this = this;\n        if (isFrame === void 0) { isFrame = false; }\n        if (isFrame) {\n            this.animations.forEach(function (animation) {\n                animation.currentTime = (value / _this.fps()) * 1000;\n            });\n        }\n        else {\n            this.animations.forEach(function (animation) {\n                animation.currentTime = value * 1000;\n            });\n        }\n    };\n    /**\n     * @see https://github.com/airbnb/lottie-web#stop\n     */\n    LottieAnimation.prototype.stop = function () {\n        this.animations.forEach(function (animation) {\n            animation.finish();\n        });\n    };\n    /**\n     * 1 is normal speed.\n     * @see https://github.com/airbnb/lottie-web#setspeedspeed\n     */\n    LottieAnimation.prototype.setSpeed = function (speed) {\n        var _this = this;\n        this.animations.forEach(function (animation) {\n            animation.playbackRate = speed * _this.direction;\n        });\n    };\n    /**\n     * 1 is forward, -1 is reverse.\n     * @see https://github.com/airbnb/lottie-web#setdirectiondirection\n     */\n    LottieAnimation.prototype.setDirection = function (direction) {\n        this.direction = direction;\n        this.animations.forEach(function (animation) {\n            animation.playbackRate *= direction;\n        });\n    };\n    return LottieAnimation;\n}());\nexport { LottieAnimation };\n//# sourceMappingURL=LottieAnimation.js.map","/**\n * borrow from https://github.com/airbnb/lottie-web/blob/master/player/js/utils/DataManager.js#L40-L493\n */\nfunction completeLayers(layers, comps) {\n    var layerData;\n    var i;\n    var len = layers.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    for (i = 0; i < len; i += 1) {\n        layerData = layers[i];\n        if ('ks' in layerData && !layerData.completed) {\n            layerData.completed = true;\n            if (layerData.tt) {\n                layers[i - 1].td = layerData.tt;\n            }\n            if (layerData.hasMask) {\n                var maskProps = layerData.masksProperties;\n                jLen = maskProps.length;\n                for (j = 0; j < jLen; j += 1) {\n                    if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                    }\n                    else {\n                        kLen = maskProps[j].pt.k.length;\n                        for (k = 0; k < kLen; k += 1) {\n                            if (maskProps[j].pt.k[k].s) {\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                            }\n                            if (maskProps[j].pt.k[k].e) {\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                            }\n                        }\n                    }\n                }\n            }\n            if (layerData.ty === 0) {\n                layerData.layers = findCompLayers(layerData.refId, comps);\n                completeLayers(layerData.layers, comps);\n            }\n            else if (layerData.ty === 4) {\n                completeShapes(layerData.shapes);\n            }\n            else if (layerData.ty === 5) {\n                completeText(layerData);\n            }\n        }\n    }\n}\nfunction completeChars(chars, assets) {\n    if (chars) {\n        var i = 0;\n        var len = chars.length;\n        for (i = 0; i < len; i += 1) {\n            if (chars[i].t === 1) {\n                // var compData = findComp(chars[i].data.refId, assets);\n                chars[i].data.layers = findCompLayers(chars[i].data.refId, assets);\n                // chars[i].data.ip = 0;\n                // chars[i].data.op = 99999;\n                // chars[i].data.st = 0;\n                // chars[i].data.sr = 1;\n                // chars[i].w = compData.w;\n                // chars[i].data.ks = {\n                //   a: { k: [0, 0, 0], a: 0 },\n                //   p: { k: [0, -compData.h, 0], a: 0 },\n                //   r: { k: 0, a: 0 },\n                //   s: { k: [100, 100], a: 0 },\n                //   o: { k: 100, a: 0 },\n                // };\n                completeLayers(chars[i].data.layers, assets);\n            }\n        }\n    }\n}\nfunction findComp(id, comps) {\n    var i = 0;\n    var len = comps.length;\n    while (i < len) {\n        if (comps[i].id === id) {\n            return comps[i];\n        }\n        i += 1;\n    }\n    return null;\n}\nfunction findCompLayers(id, comps) {\n    var comp = findComp(id, comps);\n    if (comp) {\n        if (!comp.layers.__used) {\n            comp.layers.__used = true;\n            return comp.layers;\n        }\n        return JSON.parse(JSON.stringify(comp.layers));\n    }\n    return null;\n}\nfunction completeShapes(arr) {\n    var i;\n    var len = arr.length;\n    var j;\n    var jLen;\n    for (i = len - 1; i >= 0; i -= 1) {\n        if (arr[i].ty === 'sh') {\n            if (arr[i].ks.k.i) {\n                convertPathsToAbsoluteValues(arr[i].ks.k);\n            }\n            else {\n                jLen = arr[i].ks.k.length;\n                for (j = 0; j < jLen; j += 1) {\n                    if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                    }\n                    if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                    }\n                }\n            }\n        }\n        else if (arr[i].ty === 'gr') {\n            completeShapes(arr[i].it);\n        }\n    }\n}\nfunction convertPathsToAbsoluteValues(path) {\n    var i;\n    var len = path.i.length;\n    for (i = 0; i < len; i += 1) {\n        path.i[i][0] += path.v[i][0];\n        path.i[i][1] += path.v[i][1];\n        path.o[i][0] += path.v[i][0];\n        path.o[i][1] += path.v[i][1];\n    }\n}\nfunction checkVersion(minimum, animVersionString) {\n    var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n    if (minimum[0] > animVersion[0]) {\n        return true;\n    }\n    if (animVersion[0] > minimum[0]) {\n        return false;\n    }\n    if (minimum[1] > animVersion[1]) {\n        return true;\n    }\n    if (animVersion[1] > minimum[1]) {\n        return false;\n    }\n    if (minimum[2] > animVersion[2]) {\n        return true;\n    }\n    if (animVersion[2] > minimum[2]) {\n        return false;\n    }\n    return null;\n}\nvar checkText = (function () {\n    var minimumVersion = [4, 4, 14];\n    function updateTextLayer(textLayer) {\n        var documentData = textLayer.t.d;\n        textLayer.t.d = {\n            k: [\n                {\n                    s: documentData,\n                    t: 0,\n                },\n            ],\n        };\n    }\n    function iterateLayers(layers) {\n        var i;\n        var len = layers.length;\n        for (i = 0; i < len; i += 1) {\n            if (layers[i].ty === 5) {\n                updateTextLayer(layers[i]);\n            }\n        }\n    }\n    return function (animationData) {\n        if (checkVersion(minimumVersion, animationData.v)) {\n            iterateLayers(animationData.layers);\n            if (animationData.assets) {\n                var i = void 0;\n                var len = animationData.assets.length;\n                for (i = 0; i < len; i += 1) {\n                    if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                    }\n                }\n            }\n        }\n    };\n})();\nvar checkChars = (function () {\n    var minimumVersion = [4, 7, 99];\n    return function (animationData) {\n        if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n            var i = void 0;\n            var len = animationData.chars.length;\n            for (i = 0; i < len; i += 1) {\n                var charData = animationData.chars[i];\n                if (charData.data && charData.data.shapes) {\n                    completeShapes(charData.data.shapes);\n                    charData.data.ip = 0;\n                    charData.data.op = 99999;\n                    charData.data.st = 0;\n                    charData.data.sr = 1;\n                    charData.data.ks = {\n                        p: { k: [0, 0], a: 0 },\n                        s: { k: [100, 100], a: 0 },\n                        a: { k: [0, 0], a: 0 },\n                        r: { k: 0, a: 0 },\n                        o: { k: 100, a: 0 },\n                    };\n                    if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                            ty: 'no',\n                        });\n                        charData.data.shapes[0].it.push({\n                            p: { k: [0, 0], a: 0 },\n                            s: { k: [100, 100], a: 0 },\n                            a: { k: [0, 0], a: 0 },\n                            r: { k: 0, a: 0 },\n                            o: { k: 100, a: 0 },\n                            sk: { k: 0, a: 0 },\n                            sa: { k: 0, a: 0 },\n                            ty: 'tr',\n                        });\n                    }\n                }\n            }\n        }\n    };\n})();\nvar checkPathProperties = (function () {\n    var minimumVersion = [5, 7, 15];\n    function updateTextLayer(textLayer) {\n        var pathData = textLayer.t.p;\n        if (typeof pathData.a === 'number') {\n            pathData.a = {\n                a: 0,\n                k: pathData.a,\n            };\n        }\n        if (typeof pathData.p === 'number') {\n            pathData.p = {\n                a: 0,\n                k: pathData.p,\n            };\n        }\n        if (typeof pathData.r === 'number') {\n            pathData.r = {\n                a: 0,\n                k: pathData.r,\n            };\n        }\n    }\n    function iterateLayers(layers) {\n        var i;\n        var len = layers.length;\n        for (i = 0; i < len; i += 1) {\n            if (layers[i].ty === 5) {\n                updateTextLayer(layers[i]);\n            }\n        }\n    }\n    return function (animationData) {\n        if (checkVersion(minimumVersion, animationData.v)) {\n            iterateLayers(animationData.layers);\n            if (animationData.assets) {\n                var i = void 0;\n                var len = animationData.assets.length;\n                for (i = 0; i < len; i += 1) {\n                    if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                    }\n                }\n            }\n        }\n    };\n})();\nvar checkColors = (function () {\n    var minimumVersion = [4, 1, 9];\n    function iterateShapes(shapes) {\n        var i;\n        var len = shapes.length;\n        var j;\n        var jLen;\n        for (i = 0; i < len; i += 1) {\n            if (shapes[i].ty === 'gr') {\n                iterateShapes(shapes[i].it);\n            }\n            else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                    jLen = shapes[i].c.k.length;\n                    for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                            shapes[i].c.k[j].s[0] /= 255;\n                            shapes[i].c.k[j].s[1] /= 255;\n                            shapes[i].c.k[j].s[2] /= 255;\n                            shapes[i].c.k[j].s[3] /= 255;\n                        }\n                        if (shapes[i].c.k[j].e) {\n                            shapes[i].c.k[j].e[0] /= 255;\n                            shapes[i].c.k[j].e[1] /= 255;\n                            shapes[i].c.k[j].e[2] /= 255;\n                            shapes[i].c.k[j].e[3] /= 255;\n                        }\n                    }\n                }\n                else {\n                    shapes[i].c.k[0] /= 255;\n                    shapes[i].c.k[1] /= 255;\n                    shapes[i].c.k[2] /= 255;\n                    shapes[i].c.k[3] /= 255;\n                }\n            }\n        }\n    }\n    function iterateLayers(layers) {\n        var i;\n        var len = layers.length;\n        for (i = 0; i < len; i += 1) {\n            if (layers[i].ty === 4) {\n                iterateShapes(layers[i].shapes);\n            }\n        }\n    }\n    return function (animationData) {\n        if (checkVersion(minimumVersion, animationData.v)) {\n            iterateLayers(animationData.layers);\n            if (animationData.assets) {\n                var i = void 0;\n                var len = animationData.assets.length;\n                for (i = 0; i < len; i += 1) {\n                    if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                    }\n                }\n            }\n        }\n    };\n})();\nvar checkShapes = (function () {\n    var minimumVersion = [4, 4, 18];\n    function completeClosingShapes(arr) {\n        var i;\n        var len = arr.length;\n        var j;\n        var jLen;\n        for (i = len - 1; i >= 0; i -= 1) {\n            if (arr[i].ty === 'sh') {\n                if (arr[i].ks.k.i) {\n                    arr[i].ks.k.c = arr[i].closed;\n                }\n                else {\n                    jLen = arr[i].ks.k.length;\n                    for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                            arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n                        if (arr[i].ks.k[j].e) {\n                            arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                    }\n                }\n            }\n            else if (arr[i].ty === 'gr') {\n                completeClosingShapes(arr[i].it);\n            }\n        }\n    }\n    function iterateLayers(layers) {\n        var layerData;\n        var i;\n        var len = layers.length;\n        var j;\n        var jLen;\n        var k;\n        var kLen;\n        for (i = 0; i < len; i += 1) {\n            layerData = layers[i];\n            if (layerData.hasMask) {\n                var maskProps = layerData.masksProperties;\n                jLen = maskProps.length;\n                for (j = 0; j < jLen; j += 1) {\n                    if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                    }\n                    else {\n                        kLen = maskProps[j].pt.k.length;\n                        for (k = 0; k < kLen; k += 1) {\n                            if (maskProps[j].pt.k[k].s) {\n                                maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                            }\n                            if (maskProps[j].pt.k[k].e) {\n                                maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                            }\n                        }\n                    }\n                }\n            }\n            if (layerData.ty === 4) {\n                completeClosingShapes(layerData.shapes);\n            }\n        }\n    }\n    return function (animationData) {\n        if (checkVersion(minimumVersion, animationData.v)) {\n            iterateLayers(animationData.layers);\n            if (animationData.assets) {\n                var i = void 0;\n                var len = animationData.assets.length;\n                for (i = 0; i < len; i += 1) {\n                    if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                    }\n                }\n            }\n        }\n    };\n})();\nexport function completeData(animationData) {\n    if (animationData.__complete) {\n        return;\n    }\n    checkColors(animationData);\n    checkText(animationData);\n    checkChars(animationData);\n    checkPathProperties(animationData);\n    checkShapes(animationData);\n    completeLayers(animationData.layers, animationData.assets);\n    completeChars(animationData.chars, animationData.assets);\n    animationData.__complete = true;\n}\nfunction completeText(data) {\n    if (data.t.a.length === 0 && !('m' in data.t.p)) {\n        // data.singleShape = true;\n    }\n}\n//# sourceMappingURL=complete-data.js.map","/**\n * https://lottiefiles.github.io/lottie-docs/constants/\n */\nexport var BlendMode;\n(function (BlendMode) {\n    BlendMode[BlendMode[\"Normal\"] = 0] = \"Normal\";\n    BlendMode[BlendMode[\"Multiply\"] = 1] = \"Multiply\";\n    BlendMode[BlendMode[\"Screen\"] = 2] = \"Screen\";\n    BlendMode[BlendMode[\"Overlay\"] = 3] = \"Overlay\";\n    BlendMode[BlendMode[\"Darken\"] = 4] = \"Darken\";\n    BlendMode[BlendMode[\"Lighten\"] = 5] = \"Lighten\";\n    BlendMode[BlendMode[\"ColorDodge\"] = 6] = \"ColorDodge\";\n    BlendMode[BlendMode[\"ColorBurn\"] = 7] = \"ColorBurn\";\n    BlendMode[BlendMode[\"HardLight\"] = 8] = \"HardLight\";\n    BlendMode[BlendMode[\"SoftLight\"] = 9] = \"SoftLight\";\n    BlendMode[BlendMode[\"Difference\"] = 10] = \"Difference\";\n    BlendMode[BlendMode[\"Exclusion\"] = 11] = \"Exclusion\";\n    BlendMode[BlendMode[\"Hue\"] = 12] = \"Hue\";\n    BlendMode[BlendMode[\"Saturation\"] = 13] = \"Saturation\";\n    BlendMode[BlendMode[\"Color\"] = 14] = \"Color\";\n    BlendMode[BlendMode[\"Luminosity\"] = 15] = \"Luminosity\";\n    BlendMode[BlendMode[\"Add\"] = 16] = \"Add\";\n    BlendMode[BlendMode[\"HardMix\"] = 17] = \"HardMix\";\n})(BlendMode || (BlendMode = {}));\n/**\n * @see https://lottiefiles.github.io/lottie-docs/constants/#mattemode\n */\nexport var MatteMode;\n(function (MatteMode) {\n    MatteMode[MatteMode[\"Normal\"] = 0] = \"Normal\";\n    MatteMode[MatteMode[\"Alpha\"] = 1] = \"Alpha\";\n    MatteMode[MatteMode[\"InvertedAlpha\"] = 2] = \"InvertedAlpha\";\n    MatteMode[MatteMode[\"Luma\"] = 3] = \"Luma\";\n    MatteMode[MatteMode[\"InvertedLuma\"] = 4] = \"InvertedLuma\";\n})(MatteMode || (MatteMode = {}));\nexport var Layer3DMode;\n(function (Layer3DMode) {\n    Layer3DMode[Layer3DMode[\"Off\"] = 0] = \"Off\";\n    Layer3DMode[Layer3DMode[\"On\"] = 1] = \"On\";\n})(Layer3DMode || (Layer3DMode = {}));\nexport var AutoOrientMode;\n(function (AutoOrientMode) {\n    AutoOrientMode[AutoOrientMode[\"Off\"] = 0] = \"Off\";\n    AutoOrientMode[AutoOrientMode[\"On\"] = 1] = \"On\";\n})(AutoOrientMode || (AutoOrientMode = {}));\nexport var EffectValueType;\n(function (EffectValueType) {\n    EffectValueType[EffectValueType[\"Number\"] = 0] = \"Number\";\n    EffectValueType[EffectValueType[\"Color\"] = 2] = \"Color\";\n    EffectValueType[EffectValueType[\"MultiDimensional\"] = 3] = \"MultiDimensional\";\n    EffectValueType[EffectValueType[\"Boolean\"] = 7] = \"Boolean\";\n})(EffectValueType || (EffectValueType = {}));\nexport var EffectType;\n(function (EffectType) {\n    EffectType[EffectType[\"Transform\"] = 5] = \"Transform\";\n    EffectType[EffectType[\"DropShadow\"] = 25] = \"DropShadow\";\n})(EffectType || (EffectType = {}));\nexport var MaskMode;\n(function (MaskMode) {\n    MaskMode[\"No\"] = \"n\";\n    MaskMode[\"Add\"] = \"a\";\n    MaskMode[\"Subtract\"] = \"s\";\n    MaskMode[\"Intersect\"] = \"i\";\n    MaskMode[\"Lighten\"] = \"l\";\n    MaskMode[\"Darken\"] = \"d\";\n    MaskMode[\"Difference\"] = \"f\";\n})(MaskMode || (MaskMode = {}));\nexport var LayerType;\n(function (LayerType) {\n    LayerType[LayerType[\"precomp\"] = 0] = \"precomp\";\n    LayerType[LayerType[\"solid\"] = 1] = \"solid\";\n    LayerType[LayerType[\"image\"] = 2] = \"image\";\n    LayerType[LayerType[\"null\"] = 3] = \"null\";\n    LayerType[LayerType[\"shape\"] = 4] = \"shape\";\n    LayerType[LayerType[\"text\"] = 5] = \"text\";\n    LayerType[LayerType[\"audio\"] = 6] = \"audio\";\n    LayerType[LayerType[\"pholderVideo\"] = 7] = \"pholderVideo\";\n    LayerType[LayerType[\"imageSeq\"] = 8] = \"imageSeq\";\n    LayerType[LayerType[\"video\"] = 9] = \"video\";\n    LayerType[LayerType[\"pholderStill\"] = 10] = \"pholderStill\";\n    LayerType[LayerType[\"guide\"] = 11] = \"guide\";\n    LayerType[LayerType[\"adjustment\"] = 12] = \"adjustment\";\n    LayerType[LayerType[\"camera\"] = 13] = \"camera\";\n    LayerType[LayerType[\"light\"] = 14] = \"light\";\n    LayerType[LayerType[\"data\"] = 15] = \"data\";\n})(LayerType || (LayerType = {}));\nexport var TextJustify;\n(function (TextJustify) {\n    TextJustify[TextJustify[\"Left\"] = 0] = \"Left\";\n    TextJustify[TextJustify[\"Right\"] = 1] = \"Right\";\n    TextJustify[TextJustify[\"Center\"] = 2] = \"Center\";\n})(TextJustify || (TextJustify = {}));\nexport var VerticalJustify;\n(function (VerticalJustify) {\n    VerticalJustify[VerticalJustify[\"Top\"] = 0] = \"Top\";\n    VerticalJustify[VerticalJustify[\"Center\"] = 1] = \"Center\";\n    VerticalJustify[VerticalJustify[\"Bottom\"] = 2] = \"Bottom\";\n})(VerticalJustify || (VerticalJustify = {}));\nexport var RangeSelectorDomain;\n(function (RangeSelectorDomain) {\n    RangeSelectorDomain[RangeSelectorDomain[\"Characters\"] = 1] = \"Characters\";\n    RangeSelectorDomain[RangeSelectorDomain[\"CharactersExcludingSpaces\"] = 2] = \"CharactersExcludingSpaces\";\n    RangeSelectorDomain[RangeSelectorDomain[\"Words\"] = 3] = \"Words\";\n    RangeSelectorDomain[RangeSelectorDomain[\"Lines\"] = 4] = \"Lines\";\n})(RangeSelectorDomain || (RangeSelectorDomain = {}));\nexport var RangeSelectorShape;\n(function (RangeSelectorShape) {\n    RangeSelectorShape[RangeSelectorShape[\"Square\"] = 1] = \"Square\";\n    RangeSelectorShape[RangeSelectorShape[\"RampUp\"] = 2] = \"RampUp\";\n    RangeSelectorShape[RangeSelectorShape[\"RampDown\"] = 3] = \"RampDown\";\n    RangeSelectorShape[RangeSelectorShape[\"Triangle\"] = 4] = \"Triangle\";\n    RangeSelectorShape[RangeSelectorShape[\"Round\"] = 5] = \"Round\";\n    RangeSelectorShape[RangeSelectorShape[\"Smooth\"] = 6] = \"Smooth\";\n})(RangeSelectorShape || (RangeSelectorShape = {}));\nexport var RangeSelectorUnits;\n(function (RangeSelectorUnits) {\n    RangeSelectorUnits[RangeSelectorUnits[\"Percentage\"] = 1] = \"Percentage\";\n    RangeSelectorUnits[RangeSelectorUnits[\"Index\"] = 2] = \"Index\";\n})(RangeSelectorUnits || (RangeSelectorUnits = {}));\nexport var RangeSelectorMode;\n(function (RangeSelectorMode) {\n    RangeSelectorMode[RangeSelectorMode[\"Add\"] = 1] = \"Add\";\n    RangeSelectorMode[RangeSelectorMode[\"Subtract\"] = 2] = \"Subtract\";\n    RangeSelectorMode[RangeSelectorMode[\"Intersect\"] = 3] = \"Intersect\";\n    RangeSelectorMode[RangeSelectorMode[\"Min\"] = 4] = \"Min\";\n    RangeSelectorMode[RangeSelectorMode[\"Max\"] = 5] = \"Max\";\n    RangeSelectorMode[RangeSelectorMode[\"Difference\"] = 6] = \"Difference\";\n})(RangeSelectorMode || (RangeSelectorMode = {}));\n/**\n * @see https://lottiefiles.github.io/lottie-docs/shapes/#shape-types\n */\nexport var ShapeType;\n(function (ShapeType) {\n    ShapeType[\"Rectangle\"] = \"rc\";\n    ShapeType[\"Ellipse\"] = \"el\";\n    ShapeType[\"PolyStar\"] = \"sr\";\n    ShapeType[\"Path\"] = \"sh\";\n    ShapeType[\"Fill\"] = \"fl\";\n    ShapeType[\"Stroke\"] = \"st\";\n    ShapeType[\"GradientFill\"] = \"gf\";\n    ShapeType[\"GradientStroke\"] = \"gs\";\n    ShapeType[\"NoStyle\"] = \"no\";\n    ShapeType[\"Group\"] = \"gr\";\n    ShapeType[\"Transform\"] = \"tr\";\n    ShapeType[\"Repeater\"] = \"rp\";\n    ShapeType[\"Trim\"] = \"tm\";\n    ShapeType[\"RoundedCorners\"] = \"rd\";\n    ShapeType[\"PuckerOrBloat\"] = \"pb\";\n    ShapeType[\"Merge\"] = \"mm\";\n    ShapeType[\"Twist\"] = \"tw\";\n    ShapeType[\"OffsetPath\"] = \"op\";\n    ShapeType[\"ZigZag\"] = \"zz\";\n})(ShapeType || (ShapeType = {}));\n/**\n * @see https://lottiefiles.github.io/lottie-docs/constants/#fillrule\n */\nexport var FillRule;\n(function (FillRule) {\n    FillRule[FillRule[\"NonZero\"] = 1] = \"NonZero\";\n    FillRule[FillRule[\"EvenOdd\"] = 2] = \"EvenOdd\";\n})(FillRule || (FillRule = {}));\n/**\n * @see https://lottiefiles.github.io/lottie-docs/constants/#linejoin\n */\nexport var LineJoin;\n(function (LineJoin) {\n    LineJoin[LineJoin[\"Miter\"] = 1] = \"Miter\";\n    LineJoin[LineJoin[\"Round\"] = 2] = \"Round\";\n    LineJoin[LineJoin[\"Bevel\"] = 3] = \"Bevel\";\n})(LineJoin || (LineJoin = {}));\n/**\n * @see https://lottiefiles.github.io/lottie-docs/constants/#linecap\n */\nexport var LineCap;\n(function (LineCap) {\n    LineCap[LineCap[\"Butt\"] = 1] = \"Butt\";\n    LineCap[LineCap[\"Round\"] = 2] = \"Round\";\n    LineCap[LineCap[\"Square\"] = 3] = \"Square\";\n})(LineCap || (LineCap = {}));\n/**\n * @see https://lottiefiles.github.io/lottie-docs/constants/#gradienttype\n */\nexport var GradientType;\n(function (GradientType) {\n    GradientType[GradientType[\"Linear\"] = 1] = \"Linear\";\n    GradientType[GradientType[\"Radial\"] = 2] = \"Radial\";\n})(GradientType || (GradientType = {}));\nexport var FontPathOrigin;\n(function (FontPathOrigin) {\n    FontPathOrigin[FontPathOrigin[\"CssUrl\"] = 1] = \"CssUrl\";\n    FontPathOrigin[FontPathOrigin[\"ScriptUrl\"] = 2] = \"ScriptUrl\";\n    FontPathOrigin[FontPathOrigin[\"FontUrl\"] = 3] = \"FontUrl\";\n})(FontPathOrigin || (FontPathOrigin = {}));\n//# sourceMappingURL=lottie-type.js.map","import { __assign, __read, __spreadArray } from \"tslib\";\nimport { definedProps, rad2deg, Shape } from '@antv/g-lite';\nimport { isNumber, distanceSquareRoot, isNil, getTotalLength, } from '@antv/util';\nimport { completeData } from './complete-data';\nimport * as Lottie from './lottie-type';\nvar ParseContext = /** @class */ (function () {\n    function ParseContext() {\n        this.frameTime = 1000 / 30;\n        this.startFrame = 0;\n        this.autoplay = false;\n        this.fill = 'auto';\n        this.iterations = 0;\n        this.assetsMap = new Map();\n    }\n    return ParseContext;\n}());\nexport { ParseContext };\nfunction isNumberArray(val) {\n    return Array.isArray(val) && typeof val[0] === 'number';\n}\nfunction isMultiDimensionalValue(val) {\n    return isNumberArray(val === null || val === void 0 ? void 0 : val.k);\n}\nfunction isMultiDimensionalKeyframedValue(val) {\n    var k = val === null || val === void 0 ? void 0 : val.k;\n    return Array.isArray(k) && k[0].t !== undefined && isNumberArray(k[0].s);\n}\nfunction isValue(val) {\n    // TODO is [100] sort of value?\n    return typeof (val === null || val === void 0 ? void 0 : val.k) === 'number';\n}\nfunction isKeyframedValue(val) {\n    var k = val === null || val === void 0 ? void 0 : val.k;\n    return Array.isArray(k) && k[0].t !== undefined && typeof k[0].s === 'number';\n}\nfunction toColorString(val) {\n    var opacity = getMultiDimensionValue(val, 3);\n    return \"rgba(\".concat([\n        Math.round(getMultiDimensionValue(val, 0) * 255),\n        Math.round(getMultiDimensionValue(val, 1) * 255),\n        Math.round(getMultiDimensionValue(val, 2) * 255),\n        !isNil(opacity) ? opacity : 1,\n    ].join(','), \")\");\n}\nfunction getMultiDimensionValue(val, dimIndex) {\n    return val != null\n        ? typeof val === 'number'\n            ? val\n            : val[dimIndex || 0]\n        : NaN;\n}\n/**\n * @see https://lottiefiles.github.io/lottie-docs/concepts/#easing-handles\n */\nfunction getMultiDimensionEasingBezierString(kf, nextKf, dimIndex) {\n    var _a, _b, _c, _d;\n    var bezierEasing = [];\n    bezierEasing.push((((_a = kf.o) === null || _a === void 0 ? void 0 : _a.x) &&\n        (getMultiDimensionValue(kf.o.x, dimIndex) ||\n            getMultiDimensionValue(kf.o.x, 0))) ||\n        0, (((_b = kf.o) === null || _b === void 0 ? void 0 : _b.y) &&\n        (getMultiDimensionValue(kf.o.y, dimIndex) ||\n            getMultiDimensionValue(kf.o.y, 0))) ||\n        0, (((_c = kf.i) === null || _c === void 0 ? void 0 : _c.x) &&\n        (getMultiDimensionValue(kf.i.x, dimIndex) ||\n            getMultiDimensionValue(kf.i.x, 0))) ||\n        1, (((_d = kf.i) === null || _d === void 0 ? void 0 : _d.y) &&\n        (getMultiDimensionValue(kf.i.y, dimIndex) ||\n            getMultiDimensionValue(kf.i.y, 0))) ||\n        1);\n    // linear by default\n    if (!(bezierEasing[0] === 0 &&\n        bezierEasing[1] === 0 &&\n        bezierEasing[2] === 1 &&\n        bezierEasing[3] === 1)) {\n        return \"cubic-bezier(\".concat(bezierEasing.join(','), \")\");\n    }\n    return;\n}\n/**\n * @see https://lottiefiles.github.io/lottie-docs/concepts/#keyframe\n */\nfunction parseKeyframe(kfs, bezierEasingDimIndex, context, setVal) {\n    var kfsLen = kfs.length;\n    // const offset = context.layerStartTime;\n    var duration = context.endFrame - context.startFrame;\n    var out = {\n        duration: 0,\n        delay: 0,\n        keyframes: [],\n    };\n    var prevKf;\n    for (var i = 0; i < kfsLen; i++) {\n        var kf = kfs[i];\n        var nextKf = kfs[i + 1];\n        // If h is present and it's 1, you don't need i and o,\n        // as the property will keep the same value until the next keyframe.\n        var isDiscrete = kf.h === 1;\n        var offset = (kf.t + context.layerOffsetTime - context.startFrame) / duration;\n        var outKeyframe = {\n            offset: offset,\n        };\n        if (!isDiscrete) {\n            outKeyframe.easing = getMultiDimensionEasingBezierString(kf, nextKf, bezierEasingDimIndex);\n        }\n        // Use end state of later frame if start state not exits.\n        // @see https://lottiefiles.github.io/lottie-docs/concepts/#old-lottie-keyframes\n        var startVal = kf.s || (prevKf === null || prevKf === void 0 ? void 0 : prevKf.e);\n        if (startVal) {\n            setVal(outKeyframe, startVal);\n        }\n        if (outKeyframe.offset > 0 && i === 0) {\n            // Set initial\n            var initialKeyframe = {\n                offset: 0,\n            };\n            if (startVal) {\n                setVal(initialKeyframe, startVal);\n            }\n            out.keyframes.push(initialKeyframe);\n        }\n        out.keyframes.push(outKeyframe);\n        if (isDiscrete && nextKf) {\n            // Use two keyframe to simulate the discrete animation.\n            var extraKeyframe = {\n                offset: Math.max((nextKf.t + context.layerOffsetTime - context.startFrame) / duration, 0),\n            };\n            setVal(extraKeyframe, startVal);\n            out.keyframes.push(extraKeyframe);\n        }\n        prevKf = kf;\n    }\n    if (kfsLen) {\n        out.duration = context.frameTime * duration;\n    }\n    return out;\n}\nfunction parseOffsetKeyframe(kfs, targetPropName, propNames, keyframeAnimations, context, convertVal) {\n    var _loop_1 = function (dimIndex) {\n        var propName = propNames[dimIndex];\n        var keyframeAnim = parseKeyframe(kfs, dimIndex, context, function (outKeyframe, startVal) {\n            var val = getMultiDimensionValue(startVal, dimIndex);\n            if (convertVal) {\n                val = convertVal(val);\n            }\n            (targetPropName\n                ? (outKeyframe[targetPropName] = {})\n                : outKeyframe)[propName] = val;\n        });\n        // moving position around a curved path\n        var needOffsetPath = kfs.some(function (kf) { return kf.ti && kf.to; });\n        if (needOffsetPath) {\n            var offsetPath_1 = [];\n            kfs.forEach(function (kf, i) {\n                keyframeAnim.keyframes[i].offsetPath = offsetPath_1;\n                // convert to & ti(Tangent for values (eg: moving position around a curved path)) to offsetPath & offsetDistance\n                // @see https://lottiefiles.github.io/lottie-docs/concepts/#animated-position\n                if (kf.ti && kf.to) {\n                    if (i === 0) {\n                        offsetPath_1.push(['M', kf.s[0], kf.s[1]]);\n                    }\n                    keyframeAnim.keyframes[i].segmentLength = getTotalLength(offsetPath_1);\n                    // @see https://lottiefiles.github.io/lottie-docs/concepts/#bezier\n                    // The nth bezier segment is defined as:\n                    // v[n], v[n]+o[n], v[n+1]+i[n+1], v[n+1]\n                    offsetPath_1.push([\n                        'C',\n                        kf.s[0] + kf.to[0],\n                        kf.s[1] + kf.to[1],\n                        kf.s[0] + kf.ti[0],\n                        kf.s[1] + kf.ti[1],\n                        kf.e[0],\n                        kf.e[1],\n                    ]);\n                }\n            });\n            // calculate offsetDistance: segmentLength / totalLength\n            var totalLength_1 = getTotalLength(offsetPath_1);\n            keyframeAnim.keyframes.forEach(function (kf) {\n                kf.offsetDistance = isNil(kf.segmentLength)\n                    ? 1\n                    : kf.segmentLength / totalLength_1;\n                delete kf.segmentLength;\n            });\n        }\n        if (keyframeAnim.keyframes.length) {\n            keyframeAnimations.push(keyframeAnim);\n        }\n    };\n    for (var dimIndex = 0; dimIndex < propNames.length; dimIndex++) {\n        _loop_1(dimIndex);\n    }\n}\nfunction parseColorOffsetKeyframe(kfs, targetPropName, propName, keyframeAnimations, context) {\n    var keyframeAnim = parseKeyframe(kfs, 0, context, function (outKeyframe, startVal) {\n        (targetPropName\n            ? (outKeyframe[targetPropName] = {})\n            : outKeyframe)[propName] = toColorString(startVal);\n    });\n    if (keyframeAnim.keyframes.length) {\n        keyframeAnimations.push(keyframeAnim);\n    }\n}\nfunction parseValue(lottieVal, attrs, targetPropName, propNames, animations, context, convertVal) {\n    if (targetPropName) {\n        attrs[targetPropName] = attrs[targetPropName] || {};\n    }\n    var target = targetPropName ? attrs[targetPropName] : attrs;\n    if (isValue(lottieVal)) {\n        var val = lottieVal.k;\n        target[propNames[0]] = convertVal ? convertVal(val) : val;\n    }\n    else if (isKeyframedValue(lottieVal)) {\n        parseOffsetKeyframe(lottieVal.k, targetPropName, propNames, animations, context, convertVal);\n    }\n    else if (isMultiDimensionalValue(lottieVal)) {\n        for (var i = 0; i < propNames.length; i++) {\n            var val = getMultiDimensionValue(lottieVal.k, i);\n            target[propNames[i]] = convertVal ? convertVal(val) : val;\n        }\n    }\n    else if (isMultiDimensionalKeyframedValue(lottieVal)) {\n        // TODO Merge dimensions\n        parseOffsetKeyframe(lottieVal.k, targetPropName, propNames, animations, context, convertVal);\n    }\n}\n/**\n * @see https://lottiefiles.github.io/lottie-docs/concepts/#transform\n */\nfunction parseTransforms(ks, attrs, animations, context, targetProp, transformProps) {\n    if (targetProp === void 0) { targetProp = ''; }\n    if (transformProps === void 0) { transformProps = {\n        x: 'x',\n        y: 'y',\n        rotation: 'rotation',\n        scaleX: 'scaleX',\n        scaleY: 'scaleY',\n        anchorX: 'anchorX',\n        anchorY: 'anchorY',\n        skew: 'skew',\n        skewAxis: 'skewAxis',\n    }; }\n    // @see https://lottiefiles.github.io/lottie-docs/concepts/#split-vector\n    if (ks.p.s) {\n        parseValue(ks.p.x, attrs, targetProp, [transformProps.x], animations, context);\n        parseValue(ks.p.y, attrs, targetProp, [transformProps.y], animations, context);\n    }\n    else {\n        parseValue(ks.p, attrs, targetProp, [transformProps.x, transformProps.y], animations, context);\n    }\n    parseValue(ks.s, attrs, targetProp, [transformProps.scaleX, transformProps.scaleY], animations, context, function (val) { return val / 100; });\n    parseValue(ks.r, attrs, targetProp, [transformProps.rotation], animations, context);\n    parseValue(ks.a, attrs, targetProp, [transformProps.anchorX, transformProps.anchorY], animations, context);\n    parseValue(ks.sk, attrs, targetProp, [transformProps.skew], animations, context);\n    parseValue(ks.sa, attrs, targetProp, [transformProps.skewAxis], animations, context);\n}\nfunction isGradientFillOrStroke(fl) {\n    return fl.g && fl.s && fl.e;\n}\nfunction convertColorStops(arr, count) {\n    var colorStops = [];\n    for (var i = 0; i < count * 4;) {\n        var offset = arr[i++];\n        var r = Math.round(arr[i++] * 255);\n        var g = Math.round(arr[i++] * 255);\n        var b = Math.round(arr[i++] * 255);\n        colorStops.push({\n            offset: offset,\n            color: \"rgb(\".concat(r, \", \").concat(g, \", \").concat(b, \")\"),\n        });\n    }\n    return colorStops;\n}\nfunction joinColorStops(colorStops) {\n    return \"\".concat(colorStops\n        .map(function (_a) {\n        var offset = _a.offset, color = _a.color;\n        return \"\".concat(color, \" \").concat(offset * 100, \"%\");\n    })\n        .join(', '));\n}\n/**\n * TODO:\n * * Transition\n * * Highlight length & angle in Radial Gradient\n *\n * @see https://lottiefiles.github.io/lottie-docs/concepts/#gradients\n * @see https://lottiefiles.github.io/lottie-docs/shapes/#gradients\n */\nfunction parseGradient(shape) {\n    var colorArr = shape.g.k.k;\n    var colorStops = convertColorStops(colorArr, shape.g.p);\n    // @see https://lottiefiles.github.io/lottie-docs/constants/#gradienttype\n    if (shape.t === Lottie.GradientType.Linear) {\n        var angle = rad2deg(Math.atan2(shape.e.k[1] - shape.s.k[1], shape.e.k[0] - shape.s.k[0]));\n        // @see https://g-next.antv.vision/zh/docs/api/css/css-properties-values-api#linear-gradient\n        return \"linear-gradient(\".concat(angle, \"deg, \").concat(joinColorStops(colorStops), \")\");\n    }\n    else if (shape.t === Lottie.GradientType.Radial) {\n        // TODO: highlight length & angle (h & a)\n        // Highlight Length, as a percentage between s and e\n        // Highlight Angle, relative to the direction from s to e\n        var size = distanceSquareRoot(shape.e.k, shape.s.k);\n        // @see https://g-next.antv.vision/zh/docs/api/css/css-properties-values-api#radial-gradient\n        return \"radial-gradient(circle \".concat(size, \"px at \").concat(shape.s.k[0], \"px \").concat(shape.s.k[1], \"px, \").concat(joinColorStops(colorStops), \")\");\n    }\n    else {\n        // Invalid gradient\n        return '#000';\n    }\n}\nfunction parseFill(fl, attrs, animations, context) {\n    attrs.style = attrs.style || {};\n    // Color\n    if (isGradientFillOrStroke(fl)) {\n        attrs.style.fill = parseGradient(fl);\n    }\n    else {\n        if (isMultiDimensionalValue(fl.c)) {\n            attrs.style.fill = toColorString(fl.c.k);\n        }\n        else if (isMultiDimensionalKeyframedValue(fl.c)) {\n            parseColorOffsetKeyframe(fl.c.k, 'style', 'fill', animations, context);\n        }\n    }\n    // FillRule @see https://lottiefiles.github.io/lottie-docs/constants/#fillrule\n    attrs.style.fillRule =\n        fl.r === Lottie.FillRule.EvenOdd ? 'evenodd' : 'nonzero';\n    // Opacity\n    parseValue(fl.o, attrs, 'style', ['fillOpacity'], animations, context, function (opacity) { return opacity / 100; });\n}\nfunction parseStroke(st, attrs, animations, context) {\n    attrs.style = attrs.style || {};\n    // Color\n    if (isGradientFillOrStroke(st)) {\n        attrs.style.stroke = parseGradient(st);\n    }\n    else {\n        if (isMultiDimensionalValue(st.c)) {\n            attrs.style.stroke = toColorString(st.c.k);\n        }\n        else if (isMultiDimensionalKeyframedValue(st.c)) {\n            parseColorOffsetKeyframe(st.c.k, 'style', 'stroke', animations, context);\n        }\n    }\n    // Opacity\n    parseValue(st.o, attrs, 'style', ['strokeOpacity'], animations, context, function (opacity) { return opacity / 100; });\n    // Line width\n    parseValue(st.w, attrs, 'style', ['lineWidth'], animations, context);\n    switch (st.lj) {\n        case Lottie.LineJoin.Bevel:\n            attrs.style.lineJoin = 'bevel';\n            break;\n        case Lottie.LineJoin.Round:\n            attrs.style.lineJoin = 'round';\n            break;\n        case Lottie.LineJoin.Miter:\n            attrs.style.lineJoin = 'miter';\n            break;\n    }\n    switch (st.lc) {\n        case Lottie.LineCap.Butt:\n            attrs.style.lineCap = 'butt';\n            break;\n        case Lottie.LineCap.Round:\n            attrs.style.lineCap = 'round';\n            break;\n        case Lottie.LineCap.Square:\n            attrs.style.lineCap = 'square';\n            break;\n    }\n    // Line dash\n    var dashArray = [];\n    var dashOffset = 0;\n    if (st.d) {\n        st.d.forEach(function (item) {\n            if (item.n !== 'o') {\n                dashArray.push(item.v.k);\n            }\n            else {\n                dashOffset = item.v.k;\n            }\n        });\n        attrs.style.lineDash = dashArray;\n        attrs.style.lineDashOffset = dashOffset;\n    }\n}\nfunction isBezier(k) {\n    return k && k.i && k.o && k.v;\n}\n/**\n * @see https://lottiefiles.github.io/lottie-docs/shapes/#path\n */\nfunction parseShapePaths(shape, animations, context) {\n    var attrs = {\n        type: Shape.PATH,\n        // Should have no fill and stroke by default\n        style: {\n            fill: 'none',\n            stroke: 'none',\n        },\n    };\n    // @see https://lottiefiles.github.io/lottie-docs/concepts/#bezier\n    if (isBezier(shape.ks.k)) {\n        attrs.shape = {\n            in: shape.ks.k.i,\n            out: shape.ks.k.o,\n            v: shape.ks.k.v,\n            close: shape.ks.k.c,\n        };\n    }\n    else if (Array.isArray(shape.ks.k)) {\n        var keyframeAnim = parseKeyframe(shape.ks.k, 0, context, function (outKeyframe, startVal) {\n            outKeyframe.shape = {\n                in: startVal[0].i,\n                out: startVal[0].o,\n                v: startVal[0].v,\n                close: startVal[0].c,\n            };\n        });\n        if (keyframeAnim.keyframes.length) {\n            animations.push(keyframeAnim);\n        }\n    }\n    return attrs;\n}\n/**\n * @see https://lottiefiles.github.io/lottie-docs/shapes/#rectangle\n */\nfunction parseShapeRect(shape, animations, context) {\n    var attrs = {\n        type: Shape.RECT,\n        // Should have no fill and stroke by default\n        style: {\n            fill: 'none',\n            stroke: 'none',\n        },\n        shape: {},\n    };\n    parseValue(shape.p, attrs, 'shape', ['x', 'y'], animations, context);\n    parseValue(shape.s, attrs, 'shape', ['width', 'height'], animations, context);\n    parseValue(shape.r, attrs, 'shape', ['r'], animations, context);\n    return attrs;\n}\n/**\n * @see https://lottiefiles.github.io/lottie-docs/layers/#image-layer\n */\nfunction parseImageLayer(layer, context) {\n    var attrs = {\n        type: Shape.IMAGE,\n        style: {},\n        shape: {\n            width: 0,\n            height: 0,\n            src: '',\n        },\n    };\n    var asset = context.assetsMap.get(layer.refId);\n    if (asset) {\n        attrs.shape.width = asset.w;\n        attrs.shape.height = asset.h;\n        // TODO: url to fetch\n        attrs.shape.src = asset.p;\n    }\n    return attrs;\n}\n/**\n * @see https://lottiefiles.github.io/lottie-docs/shapes/#ellipse\n */\nfunction parseShapeEllipse(shape, animations, context) {\n    var attrs = {\n        type: Shape.ELLIPSE,\n        // Should have no fill and stroke by default\n        style: {\n            fill: 'none',\n            stroke: 'none',\n        },\n        shape: {},\n    };\n    parseValue(shape.p, attrs, 'shape', ['cx', 'cy'], animations, context);\n    parseValue(shape.s, attrs, 'shape', ['rx', 'ry'], animations, context, function (val) { return val / 2; });\n    return attrs;\n}\nfunction parseShapeLayer(layer, context) {\n    function tryCreateShape(shape, keyframeAnimations) {\n        var ecEl;\n        // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n        switch (shape.ty) {\n            case Lottie.ShapeType.Path:\n                ecEl = parseShapePaths(shape, keyframeAnimations, context);\n                break;\n            case Lottie.ShapeType.Ellipse:\n                ecEl = parseShapeEllipse(shape, keyframeAnimations, context);\n                break;\n            case Lottie.ShapeType.Rectangle:\n                ecEl = parseShapeRect(shape, keyframeAnimations, context);\n                break;\n            case Lottie.ShapeType.PolyStar:\n                // TODO: parseShapePolyStar\n                break;\n        }\n        return ecEl;\n    }\n    function parseModifiers(shapes, modifiers) {\n        shapes.forEach(function (shape) {\n            if (shape.hd) {\n                return;\n            }\n            // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n            switch (shape.ty) {\n                case Lottie.ShapeType.Repeater:\n                    parseValue(shape.c, modifiers.attrs, 'shape', ['repeat'], modifiers.keyframeAnimations, context);\n                    parseTransforms(shape.tr, modifiers.attrs, modifiers.keyframeAnimations, context, 'shape', {\n                        x: 'repeatX',\n                        y: 'repeatY',\n                        rotation: 'repeatRot',\n                        scaleX: 'repeatScaleX',\n                        scaleY: 'repeatScaleY',\n                        anchorX: 'repeatAnchorX',\n                        anchorY: 'repeatAnchorY',\n                        skew: 'repeatSkew',\n                        skewAxis: 'repeatSkewAxis',\n                    });\n                    break;\n                case Lottie.ShapeType.Trim:\n                    parseValue(shape.s, modifiers.attrs, 'shape', ['trimStart'], modifiers.keyframeAnimations, context);\n                    parseValue(shape.e, modifiers.attrs, 'shape', ['trimEnd'], modifiers.keyframeAnimations, context);\n                    break;\n            }\n        });\n    }\n    function parseIterations(shapes, modifiers) {\n        var ecEls = [];\n        var attrs = {};\n        var keyframeAnimations = [];\n        // Order is reversed\n        shapes = shapes.slice().reverse();\n        // Modifiers first:\n        parseModifiers(shapes, modifiers);\n        shapes.forEach(function (shape) {\n            if (shape.hd) {\n                return;\n            }\n            var ecEl;\n            switch (shape.ty) {\n                case Lottie.ShapeType.Group:\n                    ecEl = {\n                        type: Shape.GROUP,\n                        children: parseIterations(shape.it, \n                        // Modifiers will be applied to all childrens.\n                        modifiers),\n                    };\n                    break;\n                // TODO Multiple fill and stroke\n                case Lottie.ShapeType.Fill:\n                case Lottie.ShapeType.GradientFill:\n                    parseFill(shape, attrs, keyframeAnimations, context);\n                    break;\n                case Lottie.ShapeType.Stroke:\n                case Lottie.ShapeType.GradientStroke:\n                    parseStroke(shape, attrs, keyframeAnimations, context);\n                    break;\n                case Lottie.ShapeType.Transform:\n                    parseTransforms(shape, attrs, keyframeAnimations, context);\n                    break;\n                // TODO Multiple shapes.\n                default:\n                    ecEl = tryCreateShape(shape, keyframeAnimations);\n            }\n            if (ecEl) {\n                ecEl.name = shape.nm;\n                ecEls.push(ecEl);\n            }\n        });\n        ecEls.forEach(function (el, idx) {\n            // Apply modifiers first\n            el = __assign(__assign(__assign({}, el), definedProps(modifiers.attrs)), attrs);\n            if (keyframeAnimations.length || modifiers.keyframeAnimations.length) {\n                el.keyframeAnimation = __spreadArray(__spreadArray([], __read(modifiers.keyframeAnimations), false), __read(keyframeAnimations), false);\n            }\n            ecEls[idx] = el;\n        });\n        return ecEls;\n    }\n    return {\n        type: Shape.GROUP,\n        children: parseIterations(layer.shapes, {\n            attrs: {},\n            keyframeAnimations: [],\n        }),\n    };\n}\nfunction traverse(el, cb) {\n    var _a;\n    cb(el);\n    if (el.type === Shape.GROUP) {\n        (_a = el.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            traverse(child, cb);\n        });\n    }\n}\nfunction addLayerOpacity(layer, layerGroup, context) {\n    var _a, _b;\n    var opacityAttrs = {};\n    var opacityAnimations = [];\n    if ((_a = layer.ks) === null || _a === void 0 ? void 0 : _a.o) {\n        parseValue(layer.ks.o, opacityAttrs, 'style', ['opacity'], opacityAnimations, context, function (val) { return val / 100; });\n        if (((_b = opacityAttrs.style) === null || _b === void 0 ? void 0 : _b.opacity) || opacityAnimations.length) {\n            // apply opacity to group's children\n            traverse(layerGroup, function (el) {\n                if (el.type !== Shape.GROUP && el.style) {\n                    Object.assign(el.style, opacityAttrs.style);\n                    if (opacityAnimations.length) {\n                        el.keyframeAnimation = (el.keyframeAnimation || []).concat(opacityAnimations);\n                    }\n                }\n            });\n        }\n    }\n}\nfunction parseSolidShape(layer) {\n    return {\n        type: Shape.RECT,\n        shape: {\n            x: 0,\n            y: 0,\n            width: layer.sw,\n            height: layer.sh,\n        },\n        style: {\n            fill: layer.sc,\n        },\n    };\n}\nfunction parseLayers(layers, context, precompLayerTl) {\n    var elements = [];\n    // Order is reversed\n    layers = layers.slice().reverse();\n    var layerIndexMap = new Map();\n    var offsetTime = (precompLayerTl === null || precompLayerTl === void 0 ? void 0 : precompLayerTl.st) || 0;\n    layers === null || layers === void 0 ? void 0 : layers.forEach(function (layer) {\n        // Layer time is offseted by the precomp layer.\n        var _a, _b;\n        // Use the ip, op, st of ref from.\n        var layerIp = offsetTime + layer.ip;\n        var layerOp = offsetTime + layer.op;\n        var layerSt = offsetTime + layer.st;\n        context.layerOffsetTime = offsetTime;\n        var layerGroup;\n        // eslint-disable-next-line @typescript-eslint/switch-exhaustiveness-check\n        switch (layer.ty) {\n            case Lottie.LayerType.shape:\n                // @see https://lottiefiles.github.io/lottie-docs/layers/#shape-layer\n                layerGroup = parseShapeLayer(layer, context);\n                break;\n            case Lottie.LayerType.null:\n                // @see https://lottiefiles.github.io/lottie-docs/layers/#null-layer\n                layerGroup = {\n                    type: Shape.GROUP,\n                    children: [],\n                };\n                break;\n            case Lottie.LayerType.solid:\n                // @see https://lottiefiles.github.io/lottie-docs/layers/#solid-color-layer\n                layerGroup = {\n                    type: Shape.GROUP,\n                    children: [],\n                };\n                // Anything you can do with solid layers, you can do better with a shape layer and a rectangle shape\n                // since none of this layer's own properties can be animated.\n                if (layer.sc) {\n                    layerGroup.children.push(parseSolidShape(layer));\n                }\n                break;\n            case Lottie.LayerType.precomp:\n                // @see https://lottiefiles.github.io/lottie-docs/layers/#precomposition-layer\n                layerGroup = {\n                    type: Shape.GROUP,\n                    children: parseLayers(((_a = context.assetsMap.get(layer.refId)) === null || _a === void 0 ? void 0 : _a.layers) || [], context, {\n                        st: layerSt,\n                    }),\n                };\n                break;\n            case Lottie.LayerType.text:\n                // TODO: https://lottiefiles.github.io/lottie-docs/layers/#text-layer\n                break;\n            case Lottie.LayerType.image:\n                // TODO: https://lottiefiles.github.io/lottie-docs/layers/#image-layer\n                layerGroup = layerGroup = {\n                    type: Shape.GROUP,\n                    children: [parseImageLayer(layer, context)],\n                };\n                break;\n        }\n        if (layerGroup) {\n            var keyframeAnimations = [];\n            var attrs = {\n                name: layer.nm,\n            };\n            if (layer.ks) {\n                parseTransforms(layer.ks, attrs, keyframeAnimations, context);\n            }\n            Object.assign(layerGroup, attrs);\n            if (layer.ind != null) {\n                layerIndexMap.set(layer.ind, layerGroup);\n            }\n            layerGroup.extra = {\n                layerParent: layer.parent,\n            };\n            // Masks @see https://lottiefiles.github.io/lottie-docs/layers/#masks\n            // @see https://lottie-animation-community.github.io/docs/specs/layers/common/#clipping-masks\n            // TODO: not support alpha and other modes.\n            // @see https://lottie-animation-community.github.io/docs/specs/properties/mask-mode-types/\n            if (layer.hasMask && ((_b = layer.masksProperties) === null || _b === void 0 ? void 0 : _b.length)) {\n                var maskKeyframeAnimations = [];\n                // TODO: Only support one mask now.\n                var attrs_1 = parseShapePaths({\n                    ks: layer.masksProperties[0].pt,\n                }, maskKeyframeAnimations, context);\n                layerGroup.clipPath = __assign({ type: Shape.PATH }, attrs_1);\n                if (maskKeyframeAnimations.length) {\n                    layerGroup.clipPath.keyframeAnimation = maskKeyframeAnimations;\n                }\n            }\n            addLayerOpacity(layer, layerGroup, context);\n            // Update in and out animation.\n            if (layerIp != null &&\n                layerOp != null &&\n                (layerIp > context.startFrame || layerOp < context.endFrame)) {\n                var duration = context.endFrame - context.startFrame;\n                var visibilityStartOffset = (layerIp - context.startFrame) / duration;\n                var visibilityEndOffset = (layerOp - context.startFrame) / duration;\n                layerGroup.visibilityStartOffset = visibilityStartOffset;\n                layerGroup.visibilityEndOffset = visibilityEndOffset;\n                layerGroup.visibilityFrame = duration;\n            }\n            if (keyframeAnimations.length) {\n                layerGroup.keyframeAnimation = keyframeAnimations;\n            }\n            elements.push(layerGroup);\n        }\n    });\n    // Build hierarchy\n    return elements.filter(function (el) {\n        var _a, _b;\n        var parentLayer = layerIndexMap.get((_a = el.extra) === null || _a === void 0 ? void 0 : _a.layerParent);\n        if (parentLayer) {\n            (_b = parentLayer.children) === null || _b === void 0 ? void 0 : _b.push(el);\n            return false;\n        }\n        return true;\n    });\n}\nvar DEFAULT_LOAD_ANIMATION_OPTIONS = {\n    loop: true,\n    autoplay: false,\n    fill: 'both',\n};\nexport function parse(data, options) {\n    var _a;\n    completeData(data);\n    var _b = __assign(__assign({}, DEFAULT_LOAD_ANIMATION_OPTIONS), options), loop = _b.loop, autoplay = _b.autoplay, fill = _b.fill;\n    var context = new ParseContext();\n    context.fps = data.fr || 30;\n    context.frameTime = 1000 / context.fps;\n    context.startFrame = data.ip;\n    context.endFrame = data.op;\n    context.version = data.v;\n    context.autoplay = !!autoplay;\n    context.fill = fill;\n    context.iterations = isNumber(loop) ? loop : loop ? Infinity : 1;\n    // @see https://lottiefiles.github.io/lottie-docs/assets/\n    (_a = data.assets) === null || _a === void 0 ? void 0 : _a.forEach(function (asset) {\n        context.assetsMap.set(asset.id, asset);\n    });\n    var elements = parseLayers(data.layers || [], context);\n    return {\n        width: data.w,\n        height: data.h,\n        elements: elements,\n        context: context,\n    };\n}\n//# sourceMappingURL=index.js.map","import { LottieAnimation } from './LottieAnimation';\nimport { parse } from './parser';\n/**\n * @see https://github.com/airbnb/lottie-web/wiki/loadAnimation-options\n * @see https://github.com/airbnb/lottie-web#other-loading-options\n */\nexport function loadAnimation(data, options) {\n    var _a = parse(data, options), width = _a.width, height = _a.height, elements = _a.elements, context = _a.context;\n    return new LottieAnimation(width, height, elements, context);\n}\n//# sourceMappingURL=index.js.map"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__read","o","m","Symbol","iterator","r","ar","next","done","push","value","error","__spreadArray","to","from","pack","l","Array","slice","concat","path2String","path","round","pow","Math","map","pi","values","Number","roundPath","x","join","paramsParser","x1","y1","x2","y2","y","qx","qy","paramsCount","a","c","h","q","v","z","isPathArray","isArray","every","seg","lk","toLowerCase","includes","isAbsoluteArray","_a","toUpperCase","finalizeSegment","pathCommand","pathValue","segmentStart","LK","data","segments","splice","scanFlag","index","code","charCodeAt","param","err","isDigitStart","isDigit","scanParam","ch","max","start","zeroFirst","hasCeiling","hasDecimal","hasDot","skipSpaces","scanSegment","cmdCode","reqParams","isPathCommand","PathParser","pathString","path2Absolute","pathInput","parsePathString","mx","my","segment","absoluteSegment","absCommand","absValues","j","segLength","normalizeSegment","params","px1","py1","px2","py2","result","nqy","normalizePath","isNormalizedArray","seglen","distanceSquareRoot","b","sqrt","segmentLineFactory","distance","ax","ay","point","min","angleBetween","v0","v1","v0x","v0y","v1x","v1y","acos","getPointAtArcSegmentLength","RX","RY","angle","LAF","SF","abs","sin","cos","PI","rx","ry","xRotRad","dx","dy","transformedPoint","radiiCheck","cRadicand","cCoef","transformedCenter","center","startVector","startAngle","sweepAngle","alpha","ellipseComponentX","ellipseComponentY","segmentArcFactory","X1","Y1","X2","Y2","options","_b","bbox","_c","_d","sampleSize","distanceIsNumber","LENGTH","prev","cur","POINT","POINTS","dv","getPointAtCubicSegmentLength","c1x","c1y","c2x","c2y","t1","segmentCubicFactory","getPointAtQuadSegmentLength","cx","cy","segmentQuadFactory","getTotalLength","_e","_f","isM","MIN","MAX","ll","pathLengthFactory","undefined","isNil$1","toString","isType$1","type","isNumber$1","isType","eps","LottieAnimation","width","height","elements","context","_this","keyframeAnimationMap","WeakMap","displayObjectElementMap","animations","isPaused","direction","displayObjects","element","buildHierachy","generateTransform","tx","ty","scaleX","scaleY","rotation","transformStr","displayObject","name","anchorX","anchorY","_g","children","shape","style","keyframeAnimation","transform","Shape","GROUP","Group","transformOrigin","ELLIPSE","Ellipse","PATH","d","generatePathFromShape","Path","RECT","Rect","anchor","radius","IMAGE","Image","src","attr","set","childNodes","child","append","getAnimations","getDuration","inFrames","fps","endFrame","startFrame","frameTime","isSameKeyframeOptions","options1","options2","delay","duration","easing","isSameKeyframes","keyframe1","keyframe2","offset","close","in","out","render","canvasOrDisplayObject","wrapper","isCanvas","appendChild","isDisplayObject","Error","isConnected","forEach","parent","get","clipPath","keyframeAnimation_1","parentElement","clipPathAnimation","animate","keyframes","iterations","visibilityStartOffset","visibilityEndOffset","visibilityFrame","opacity","keyframesOptions_1","formattedKeyframes","keyframe","definedProps","fill","mergedKeyframesOptions","_loop_1","currentKeyframes","currentOptions","existedKeyframeOptions","find","currentKeyframe","existedKeyframe","rest","formatted","formatKeyframes","animation_1","isNil","visibility","onframe","progress","effect","getComputedTiming","autoplay","pause","filter","animation","object","keys","sort","destroy","size","outputSize","version","play","playSegments","firstFrame","lastFrame","currentTime","originOnFrame","finish","togglePause","goTo","isFrame","stop","setSpeed","speed","playbackRate","setDirection","completeLayers","layers","comps","layerData","jLen","k","kLen","len","completed","tt","td","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","id","comp","findComp","__used","JSON","parse","stringify","arr","ks","it","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","BlendMode","MatteMode","Layer3DMode","AutoOrientMode","EffectValueType","EffectType","MaskMode","LayerType","TextJustify","VerticalJustify","RangeSelectorDomain","RangeSelectorShape","RangeSelectorUnits","RangeSelectorMode","ShapeType","FillRule","LineJoin","LineCap","GradientType","FontPathOrigin","checkText","iterateLayers","textLayer","animationData","assets","checkChars","chars","charData","ip","op","st","sr","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","checkShapes","completeClosingShapes","closed","cl","completeData","__complete","completeChars","ParseContext","assetsMap","Map","isNumberArray","val","isMultiDimensionalValue","isMultiDimensionalKeyframedValue","toColorString","getMultiDimensionValue","dimIndex","NaN","getMultiDimensionEasingBezierString","kf","nextKf","bezierEasing","parseKeyframe","kfs","bezierEasingDimIndex","setVal","prevKf","kfsLen","isDiscrete","outKeyframe","layerOffsetTime","startVal","initialKeyframe","extraKeyframe","parseOffsetKeyframe","targetPropName","propNames","keyframeAnimations","convertVal","propName","keyframeAnim","some","ti","offsetPath_1","offsetPath","segmentLength","totalLength_1","offsetDistance","parseColorOffsetKeyframe","parseValue","lottieVal","attrs","target","isValue","isKeyframedValue","parseTransforms","targetProp","transformProps","skew","skewAxis","isGradientFillOrStroke","fl","g","joinColorStops","colorStops","color","parseGradient","count","convertColorStops","Lottie.GradientType","Linear","rad2deg","atan2","Radial","parseShapePaths","stroke","parseImageLayer","layer","asset","w","parseShapeLayer","tryCreateShape","ecEl","Lottie.ShapeType","parseShapeEllipse","Rectangle","parseShapeRect","parseIterations","modifiers","ecEls","hd","Repeater","tr","Trim","parseModifiers","reverse","Fill","GradientFill","fillRule","Lottie.FillRule","EvenOdd","parseFill","Stroke","GradientStroke","lj","Lottie.LineJoin","Bevel","lineJoin","Round","Miter","lc","Lottie.LineCap","Butt","lineCap","Square","dashArray","dashOffset","item","lineDash","lineDashOffset","parseStroke","Transform","nm","el","idx","traverse","cb","addLayerOpacity","layerGroup","opacityAttrs","opacityAnimations","parseLayers","precompLayerTl","layerIndexMap","offsetTime","layerIp","layerOp","layerSt","Lottie.LayerType","null","solid","sc","sw","sh","parseSolidShape","precomp","text","image","ind","extra","layerParent","maskKeyframeAnimations","attrs_1","parentLayer","DEFAULT_LOAD_ANIMATION_OPTIONS","loop","fr","isNumber","Infinity"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]}