{"version":3,"file":"index.js","sources":["../src/CanvasPickerPlugin.ts","../src/Circle.ts","../src/Ellipse.ts","../src/utils/math.ts","../src/Line.ts","../src/Path.ts","../src/Polygon.ts","../src/Polyline.ts","../src/Rect.ts","../src/Image.ts","../src/index.ts"],"sourcesContent":["import { __awaiter, __generator, __values } from \"tslib\";\nimport { findClosestClipPathTarget, Point } from '@antv/g-lite';\nimport { mat4, vec3 } from 'gl-matrix';\nvar tmpVec3a = vec3.create();\nvar tmpVec3b = vec3.create();\nvar tmpVec3c = vec3.create();\nvar tmpMat4 = mat4.create();\n/**\n * pick shape(s) with Mouse/Touch event\n *\n * 1. find AABB with r-tree\n * 2. do math calculation with geometry in an accurate way\n */\nvar CanvasPickerPlugin = /** @class */ (function () {\n    function CanvasPickerPlugin() {\n        var _this = this;\n        this.isHit = function (displayObject, position, worldTransform, isClipPath) {\n            // use picker for current shape's type\n            var pick = _this.context.pointInPathPickerFactory[displayObject.nodeName];\n            if (pick) {\n                // invert with world matrix\n                var invertWorldMat = mat4.invert(tmpMat4, worldTransform);\n                // transform client position to local space, do picking in local space\n                var localPosition = vec3.transformMat4(tmpVec3b, vec3.set(tmpVec3c, position[0], position[1], 0), invertWorldMat);\n                // account for anchor\n                var halfExtents = displayObject.getGeometryBounds().halfExtents;\n                var anchor = displayObject.parsedStyle.anchor;\n                localPosition[0] += ((anchor && anchor[0]) || 0) * halfExtents[0] * 2;\n                localPosition[1] += ((anchor && anchor[1]) || 0) * halfExtents[1] * 2;\n                if (pick(displayObject, new Point(localPosition[0], localPosition[1]), isClipPath, _this.isPointInPath, _this.context, _this.runtime)) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        /**\n         * use native picking method\n         * @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/isPointInPath\n         */\n        this.isPointInPath = function (displayObject, position) {\n            var context = _this.runtime.offscreenCanvasCreator.getOrCreateContext(_this.context.config.offscreenCanvas);\n            var generatePath = _this.context.pathGeneratorFactory[displayObject.nodeName];\n            if (generatePath) {\n                context.beginPath();\n                generatePath(context, displayObject.parsedStyle);\n                context.closePath();\n            }\n            return context.isPointInPath(position.x, position.y);\n        };\n    }\n    CanvasPickerPlugin.prototype.apply = function (context, runtime) {\n        var _this = this;\n        var _a;\n        var renderingService = context.renderingService, renderingContext = context.renderingContext;\n        this.context = context;\n        this.runtime = runtime;\n        var document = (_a = renderingContext.root) === null || _a === void 0 ? void 0 : _a.ownerDocument;\n        renderingService.hooks.pick.tapPromise(CanvasPickerPlugin.tag, function (result) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.pick(document, result)];\n            });\n        }); });\n        renderingService.hooks.pickSync.tap(CanvasPickerPlugin.tag, function (result) {\n            return _this.pick(document, result);\n        });\n    };\n    CanvasPickerPlugin.prototype.pick = function (document, result) {\n        var e_1, _a;\n        var topmost = result.topmost, _b = result.position, x = _b.x, y = _b.y;\n        // position in world space\n        var position = vec3.set(tmpVec3a, x, y, 0);\n        // query by AABB first with spatial index(r-tree)\n        var hitTestList = document.elementsFromBBox(position[0], position[1], position[0], position[1]);\n        // test with clip path & origin shape\n        // @see https://github.com/antvis/g/issues/1064\n        var pickedDisplayObjects = [];\n        try {\n            for (var hitTestList_1 = __values(hitTestList), hitTestList_1_1 = hitTestList_1.next(); !hitTestList_1_1.done; hitTestList_1_1 = hitTestList_1.next()) {\n                var displayObject = hitTestList_1_1.value;\n                var worldTransform = displayObject.getWorldTransform();\n                var isHitOriginShape = this.isHit(displayObject, position, worldTransform, false);\n                if (isHitOriginShape) {\n                    // should look up in the ancestor node\n                    var clipped = findClosestClipPathTarget(displayObject);\n                    if (clipped) {\n                        var clipPath = clipped.parsedStyle.clipPath;\n                        var isHitClipPath = this.isHit(clipPath, position, clipPath.getWorldTransform(), true);\n                        if (isHitClipPath) {\n                            if (topmost) {\n                                result.picked = [displayObject];\n                                return result;\n                            }\n                            else {\n                                pickedDisplayObjects.push(displayObject);\n                            }\n                        }\n                    }\n                    else {\n                        if (topmost) {\n                            result.picked = [displayObject];\n                            return result;\n                        }\n                        else {\n                            pickedDisplayObjects.push(displayObject);\n                        }\n                    }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (hitTestList_1_1 && !hitTestList_1_1.done && (_a = hitTestList_1.return)) _a.call(hitTestList_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        result.picked = pickedDisplayObjects;\n        return result;\n    };\n    CanvasPickerPlugin.tag = 'CanvasPicker';\n    return CanvasPickerPlugin;\n}());\nexport { CanvasPickerPlugin };\n//# sourceMappingURL=CanvasPickerPlugin.js.map","import { __read } from \"tslib\";\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { distance } from '@antv/g-math';\nexport function isPointInPath(displayObject, position, isClipPath) {\n    var _a = displayObject.parsedStyle, r = _a.r, fill = _a.fill, stroke = _a.stroke, lineWidth = _a.lineWidth, increasedLineWidthForHitTesting = _a.increasedLineWidthForHitTesting, pointerEvents = _a.pointerEvents;\n    var halfLineWidth = ((lineWidth || 0) + (increasedLineWidthForHitTesting || 0)) / 2;\n    var absDistance = distance(r, r, position.x, position.y);\n    var _b = __read(isFillOrStrokeAffected(pointerEvents, fill, stroke), 2), hasFill = _b[0], hasStroke = _b[1];\n    if ((hasFill && hasStroke) || isClipPath) {\n        return absDistance <= r + halfLineWidth;\n    }\n    if (hasFill) {\n        return absDistance <= r;\n    }\n    if (hasStroke) {\n        return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;\n    }\n    return false;\n}\n//# sourceMappingURL=Circle.js.map","import { __read } from \"tslib\";\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nfunction ellipseDistance(squareX, squareY, rx, ry) {\n    return squareX / (rx * rx) + squareY / (ry * ry);\n}\nexport function isPointInPath(displayObject, position, isClipPath) {\n    var _a = displayObject.parsedStyle, rx = _a.rx, ry = _a.ry, fill = _a.fill, stroke = _a.stroke, lineWidth = _a.lineWidth, increasedLineWidthForHitTesting = _a.increasedLineWidthForHitTesting, pointerEvents = _a.pointerEvents;\n    var x = position.x, y = position.y;\n    var _b = __read(isFillOrStrokeAffected(pointerEvents, fill, stroke), 2), hasFill = _b[0], hasStroke = _b[1];\n    var halfLineWith = ((lineWidth || 0) + (increasedLineWidthForHitTesting || 0)) / 2;\n    var squareX = (x - rx) * (x - rx);\n    var squareY = (y - ry) * (y - ry);\n    // 使用椭圆的公式： x*x/rx*rx + y*y/ry*ry = 1;\n    if ((hasFill && hasStroke) || isClipPath) {\n        return (ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <=\n            1);\n    }\n    if (hasFill) {\n        return ellipseDistance(squareX, squareY, rx, ry) <= 1;\n    }\n    if (hasStroke) {\n        return (ellipseDistance(squareX, squareY, rx - halfLineWith, ry - halfLineWith) >=\n            1 &&\n            ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <=\n                1);\n    }\n    return false;\n}\n//# sourceMappingURL=Ellipse.js.map","import { distance, linePointToLine } from '@antv/g-math';\nexport function inBox(minX, minY, width, height, x, y) {\n    return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\nexport function inRect(minX, minY, width, height, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    // 将四个边看做矩形来检测，比边的检测算法要快\n    return (inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) || // 上边\n        inBox(minX + width - halfWidth, minY - halfWidth, lineWidth, height, x, y) || // 右边\n        inBox(minX + halfWidth, minY + height - halfWidth, width, lineWidth, x, y) || // 下边\n        inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y)); // 左边\n}\nexport function inArc(cx, cy, r, startAngle, endAngle, lineWidth, x, y) {\n    var angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); // 转换到 0 - 2 * Math.PI 之间\n    // if (angle < startAngle || angle > endAngle) {\n    //   return false;\n    // }\n    var point = {\n        x: cx + r * Math.cos(angle),\n        y: cy + r * Math.sin(angle),\n    };\n    return distance(point.x, point.y, x, y) <= lineWidth / 2;\n}\nexport function inLine(x1, y1, x2, y2, lineWidth, x, y) {\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var halfWidth = lineWidth / 2;\n    // 因为目前的方案是计算点到直线的距离，而有可能会在延长线上，所以要先判断是否在包围盒内\n    // 这种方案会在水平或者竖直的情况下载线的延长线上有半 lineWidth 的误差\n    if (!(x >= minX - halfWidth &&\n        x <= maxX + halfWidth &&\n        y >= minY - halfWidth &&\n        y <= maxY + halfWidth)) {\n        return false;\n    }\n    // 因为已经计算了包围盒，所以仅需要计算到直线的距离即可，可以显著提升性能\n    return linePointToLine(x1, y1, x2, y2, x, y) <= lineWidth / 2;\n}\nexport function inPolyline(points, lineWidth, x, y, isClose) {\n    var count = points.length;\n    if (count < 2) {\n        return false;\n    }\n    for (var i = 0; i < count - 1; i++) {\n        var x1 = points[i][0];\n        var y1 = points[i][1];\n        var x2 = points[i + 1][0];\n        var y2 = points[i + 1][1];\n        if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {\n            return true;\n        }\n    }\n    // 如果封闭，则计算起始点和结束点的边\n    if (isClose) {\n        var first = points[0];\n        var last = points[count - 1];\n        if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {\n            return true;\n        }\n    }\n    return false;\n}\n// 多边形的射线检测，参考：https://blog.csdn.net/WilliamSun0122/article/details/77994526\nvar tolerance = 1e-6;\n// 三态函数，判断两个double在eps精度下的大小关系\nfunction dcmp(x) {\n    if (Math.abs(x) < tolerance) {\n        return 0;\n    }\n    return x < 0 ? -1 : 1;\n}\n// 判断点Q是否在p1和p2的线段上\nfunction onSegment(p1, p2, q) {\n    if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n        Math.min(p1[0], p2[0]) <= q[0] &&\n        q[0] <= Math.max(p1[0], p2[0]) &&\n        Math.min(p1[1], p2[1]) <= q[1] &&\n        q[1] <= Math.max(p1[1], p2[1])) {\n        return true;\n    }\n    return false;\n}\n// 判断点P在多边形内-射线法\nexport function inPolygon(points, x, y) {\n    var isHit = false;\n    var n = points.length;\n    if (n <= 2) {\n        // svg 中点小于 3 个时，不显示，也无法被拾取\n        return false;\n    }\n    for (var i = 0; i < n; i++) {\n        var p1 = points[i];\n        var p2 = points[(i + 1) % n];\n        if (onSegment(p1, p2, [x, y])) {\n            // 点在多边形一条边上\n            return true;\n        }\n        // 前一个判断min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n        // 后一个判断被测点 在 射线与边交点 的左边\n        if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n            dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0) {\n            isHit = !isHit;\n        }\n    }\n    return isHit;\n}\nexport function inPolygons(polygons, x, y) {\n    var isHit = false;\n    for (var i = 0; i < polygons.length; i++) {\n        var points = polygons[i];\n        isHit = inPolygon(points, x, y);\n        if (isHit) {\n            break;\n        }\n    }\n    return isHit;\n}\n//# sourceMappingURL=math.js.map","import { __read } from \"tslib\";\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { inLine } from './utils/math';\nexport function isPointInPath(displayObject, position, isClipPath) {\n    var _a = displayObject.parsedStyle, x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2, lineWidth = _a.lineWidth, increasedLineWidthForHitTesting = _a.increasedLineWidthForHitTesting, _b = _a.defX, x = _b === void 0 ? 0 : _b, _c = _a.defY, y = _c === void 0 ? 0 : _c, pointerEvents = _a.pointerEvents, fill = _a.fill, stroke = _a.stroke;\n    var _d = __read(isFillOrStrokeAffected(pointerEvents, fill, stroke), 2), hasStroke = _d[1];\n    if ((!hasStroke && !isClipPath) || !lineWidth) {\n        return false;\n    }\n    return inLine(x1, y1, x2, y2, (lineWidth || 0) + (increasedLineWidthForHitTesting || 0), position.x + x, position.y + y);\n}\n//# sourceMappingURL=Line.js.map","import { __read } from \"tslib\";\nimport { getOrCalculatePathTotalLength, isFillOrStrokeAffected, } from '@antv/g-lite';\nimport { cubicPointDistance, quadPointDistance } from '@antv/g-math';\nimport { arcToCubic } from '@antv/util';\nimport { inBox, inLine, inPolygons } from './utils/math';\n// TODO: replace it with method in @antv/util\nfunction isPointInStroke(segments, lineWidth, px, py, length) {\n    var isHit = false;\n    var halfWidth = lineWidth / 2;\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint, box = segment.box;\n        // 如果在前面已经生成过包围盒，直接按照包围盒计算\n        if (box &&\n            !inBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth, px, py)) {\n            continue;\n        }\n        switch (segment.command) {\n            // L 和 Z 都是直线， M 不进行拾取\n            case 'L':\n            case 'Z':\n                isHit = inLine(prePoint[0], prePoint[1], currentPoint[0], currentPoint[1], lineWidth, px, py);\n                if (isHit) {\n                    return true;\n                }\n                break;\n            case 'Q':\n                var qDistance = quadPointDistance(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], px, py);\n                isHit = qDistance <= lineWidth / 2;\n                if (isHit) {\n                    return true;\n                }\n                break;\n            case 'C':\n                var cDistance = cubicPointDistance(prePoint[0], // 上一段结束位置, 即 C 的起始点\n                prePoint[1], params[1], // 'C' 的参数，1、2 为第一个控制点，3、4 为第二个控制点，5、6 为结束点\n                params[2], params[3], params[4], params[5], params[6], px, py, length);\n                isHit = cDistance <= lineWidth / 2;\n                if (isHit) {\n                    return true;\n                }\n                break;\n            case 'A':\n                // cache conversion result\n                if (!segment.cubicParams) {\n                    segment.cubicParams = arcToCubic(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6], params[7], undefined);\n                }\n                var args = segment.cubicParams;\n                // fixArc\n                var prePointInCubic = prePoint;\n                for (var i_1 = 0; i_1 < args.length; i_1 += 6) {\n                    var cDistance_1 = cubicPointDistance(prePointInCubic[0], // 上一段结束位置, 即 C 的起始点\n                    prePointInCubic[1], args[i_1], args[i_1 + 1], args[i_1 + 2], args[i_1 + 3], args[i_1 + 4], args[i_1 + 5], px, py, length);\n                    prePointInCubic = [args[i_1 + 4], args[i_1 + 5]];\n                    isHit = cDistance_1 <= lineWidth / 2;\n                    if (isHit) {\n                        return true;\n                    }\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    return isHit;\n}\nexport function isPointInPath(displayObject, position, isClipPath, isPointInPath, renderingPluginContext, runtime) {\n    var _a = displayObject.parsedStyle, lineWidth = _a.lineWidth, increasedLineWidthForHitTesting = _a.increasedLineWidthForHitTesting, stroke = _a.stroke, fill = _a.fill, _b = _a.defX, x = _b === void 0 ? 0 : _b, _c = _a.defY, y = _c === void 0 ? 0 : _c, path = _a.path, pointerEvents = _a.pointerEvents;\n    var segments = path.segments, hasArc = path.hasArc, polylines = path.polylines, polygons = path.polygons;\n    var _d = __read(isFillOrStrokeAffected(pointerEvents, \n    // Only a closed path can be filled.\n    (polygons === null || polygons === void 0 ? void 0 : polygons.length) && fill, stroke), 2), hasFill = _d[0], hasStroke = _d[1];\n    var totalLength = getOrCalculatePathTotalLength(displayObject);\n    var isHit = false;\n    if (hasFill || isClipPath) {\n        if (hasArc) {\n            // 存在曲线时，暂时使用 canvas 的 api 计算，后续可以进行多边形切割\n            isHit = isPointInPath(displayObject, position);\n        }\n        else {\n            // 提取出来的多边形包含闭合的和非闭合的，在这里统一按照多边形处理\n            isHit =\n                inPolygons(polygons, position.x + x, position.y + y) ||\n                    inPolygons(polylines, position.x + x, position.y + y);\n        }\n        return isHit;\n    }\n    else if (hasStroke || isClipPath) {\n        isHit = isPointInStroke(segments, (lineWidth || 0) + (increasedLineWidthForHitTesting || 0), position.x + x, position.y + y, totalLength);\n    }\n    return isHit;\n}\n//# sourceMappingURL=Path.js.map","import { __read } from \"tslib\";\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { inPolygon, inPolyline } from './utils/math';\nexport function isPointInPath(displayObject, position, isClipPath) {\n    var _a = displayObject.parsedStyle, stroke = _a.stroke, fill = _a.fill, lineWidth = _a.lineWidth, increasedLineWidthForHitTesting = _a.increasedLineWidthForHitTesting, points = _a.points, _b = _a.defX, x = _b === void 0 ? 0 : _b, _c = _a.defY, y = _c === void 0 ? 0 : _c, pointerEvents = _a.pointerEvents;\n    var _d = __read(isFillOrStrokeAffected(pointerEvents, fill, stroke), 2), hasFill = _d[0], hasStroke = _d[1];\n    var isHit = false;\n    if (hasStroke || isClipPath) {\n        isHit = inPolyline(points.points, (lineWidth || 0) + (increasedLineWidthForHitTesting || 0), position.x + x, position.y + y, true);\n    }\n    if (!isHit && (hasFill || isClipPath)) {\n        isHit = inPolygon(points.points, position.x + x, position.y + y);\n    }\n    return isHit;\n}\n//# sourceMappingURL=Polygon.js.map","import { __read } from \"tslib\";\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { inPolyline } from './utils/math';\nexport function isPointInPath(displayObject, position, isClipPath) {\n    var _a = displayObject.parsedStyle, lineWidth = _a.lineWidth, increasedLineWidthForHitTesting = _a.increasedLineWidthForHitTesting, points = _a.points, _b = _a.defX, x = _b === void 0 ? 0 : _b, _c = _a.defY, y = _c === void 0 ? 0 : _c, pointerEvents = _a.pointerEvents, fill = _a.fill, stroke = _a.stroke;\n    var _d = __read(isFillOrStrokeAffected(pointerEvents, fill, stroke), 2), hasStroke = _d[1];\n    if ((!hasStroke && !isClipPath) || !lineWidth) {\n        return false;\n    }\n    return inPolyline(points.points, (lineWidth || 0) + (increasedLineWidthForHitTesting || 0), position.x + x, position.y + y, false);\n}\n//# sourceMappingURL=Polyline.js.map","import { __read } from \"tslib\";\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { clamp } from '@antv/util';\nimport { inArc, inBox, inLine, inRect } from './utils/math';\nexport function isPointInPath(displayObject, position, isClipPath, isPointInPath, runtime) {\n    var _a = displayObject.parsedStyle, radius = _a.radius, fill = _a.fill, stroke = _a.stroke, lineWidth = _a.lineWidth, increasedLineWidthForHitTesting = _a.increasedLineWidthForHitTesting, width = _a.width, height = _a.height, pointerEvents = _a.pointerEvents;\n    var _b = __read(isFillOrStrokeAffected(pointerEvents, fill, stroke), 2), hasFill = _b[0], hasStroke = _b[1];\n    var hasRadius = radius && radius.some(function (r) { return r !== 0; });\n    var lineWidthForHitTesting = (lineWidth || 0) + (increasedLineWidthForHitTesting || 0);\n    // 无圆角时的策略\n    if (!hasRadius) {\n        var halfWidth = lineWidthForHitTesting / 2;\n        // 同时填充和带有边框\n        if ((hasFill && hasStroke) || isClipPath) {\n            return inBox(0 - halfWidth, 0 - halfWidth, width + halfWidth, height + halfWidth, position.x, position.y);\n        }\n        // 仅填充\n        if (hasFill) {\n            return inBox(0, 0, width, height, position.x, position.y);\n        }\n        if (hasStroke) {\n            return inRect(0, 0, width, height, lineWidthForHitTesting, position.x, position.y);\n        }\n    }\n    else {\n        var isHit = false;\n        if (hasStroke || isClipPath) {\n            isHit = inRectWithRadius(0, 0, width, height, radius.map(function (r) {\n                return clamp(r, 0, Math.min(Math.abs(width) / 2, Math.abs(height) / 2));\n            }), lineWidthForHitTesting, position.x, position.y);\n        }\n        // 仅填充时带有圆角的矩形直接通过图形拾取\n        // 以后可以改成纯数学的近似拾取，将圆弧切割成多边形\n        if (!isHit && (hasFill || isClipPath)) {\n            isHit = isPointInPath(displayObject, position);\n        }\n        return isHit;\n    }\n    return false;\n}\nfunction inRectWithRadius(minX, minY, width, height, radiusArray, lineWidth, x, y) {\n    var _a = __read(radiusArray, 4), tlr = _a[0], trr = _a[1], brr = _a[2], blr = _a[3];\n    return (inLine(minX + tlr, minY, minX + width - trr, minY, lineWidth, x, y) ||\n        inLine(minX + width, minY + trr, minX + width, minY + height - brr, lineWidth, x, y) ||\n        inLine(minX + width - brr, minY + height, minX + blr, minY + height, lineWidth, x, y) ||\n        inLine(minX, minY + height - blr, minX, minY + tlr, lineWidth, x, y) ||\n        inArc(minX + width - trr, minY + trr, trr, 1.5 * Math.PI, 2 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + width - brr, minY + height - brr, brr, 0, 0.5 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + blr, minY + height - blr, blr, 0.5 * Math.PI, Math.PI, lineWidth, x, y) ||\n        inArc(minX + tlr, minY + tlr, tlr, Math.PI, 1.5 * Math.PI, lineWidth, x, y));\n}\n//# sourceMappingURL=Rect.js.map","import { Shape, } from '@antv/g-lite';\nexport function isPointInPath(displayObject, position, isClipPath, isPointInPath, renderingPluginContext, runtime) {\n    var _a = displayObject.parsedStyle, pointerEvents = _a.pointerEvents, width = _a.width, height = _a.height;\n    if (pointerEvents === 'non-transparent-pixel') {\n        var offscreenCanvas = renderingPluginContext.config.offscreenCanvas;\n        var canvas = runtime.offscreenCanvasCreator.getOrCreateCanvas(offscreenCanvas);\n        var context = runtime.offscreenCanvasCreator.getOrCreateContext(offscreenCanvas, {\n            willReadFrequently: true,\n        });\n        canvas.width = width;\n        canvas.height = height;\n        renderingPluginContext.defaultStyleRendererFactory[Shape.IMAGE].render(context, displayObject.parsedStyle, displayObject, undefined, undefined, undefined);\n        var imagedata = context.getImageData(position.x, position.y, 1, 1).data;\n        return imagedata.every(function (component) { return component !== 0; });\n    }\n    return true;\n}\n//# sourceMappingURL=Image.js.map","import { __extends } from \"tslib\";\nimport { AbstractRendererPlugin, Shape } from '@antv/g-lite';\nimport { CanvasPickerPlugin } from './CanvasPickerPlugin';\nimport { isPointInPath as CirclePicker } from './Circle';\nimport { isPointInPath as EllipsePicker } from './Ellipse';\nimport { isPointInPath as LinePicker } from './Line';\nimport { isPointInPath as PathPicker } from './Path';\nimport { isPointInPath as PolygonPicker } from './Polygon';\nimport { isPointInPath as PolylinePicker } from './Polyline';\nimport { isPointInPath as RectPicker } from './Rect';\nimport { isPointInPath as ImagePicker } from './Image';\nvar Plugin = /** @class */ (function (_super) {\n    __extends(Plugin, _super);\n    function Plugin() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.name = 'canvas-picker';\n        return _this;\n    }\n    Plugin.prototype.init = function () {\n        var _a;\n        var trueFunc = function () { return true; };\n        var pointInPathPickerFactory = (_a = {},\n            _a[Shape.CIRCLE] = CirclePicker,\n            _a[Shape.ELLIPSE] = EllipsePicker,\n            _a[Shape.RECT] = RectPicker,\n            _a[Shape.LINE] = LinePicker,\n            _a[Shape.POLYLINE] = PolylinePicker,\n            _a[Shape.POLYGON] = PolygonPicker,\n            _a[Shape.PATH] = PathPicker,\n            _a[Shape.TEXT] = trueFunc,\n            _a[Shape.GROUP] = null,\n            _a[Shape.IMAGE] = ImagePicker,\n            _a[Shape.HTML] = null,\n            _a[Shape.MESH] = null,\n            _a);\n        // @ts-ignore\n        this.context.pointInPathPickerFactory = pointInPathPickerFactory;\n        this.addRenderingPlugin(new CanvasPickerPlugin());\n    };\n    Plugin.prototype.destroy = function () {\n        // @ts-ignore\n        delete this.context.pointInPathPickerFactory;\n        this.removeAllRenderingPlugins();\n    };\n    return Plugin;\n}(AbstractRendererPlugin));\nexport { Plugin };\n//# sourceMappingURL=index.js.map"],"names":["vec3","mat4","Point","__awaiter","__generator","__values","findClosestClipPathTarget","isPointInPath","distance","__read","isFillOrStrokeAffected","linePointToLine","quadPointDistance","cubicPointDistance","arcToCubic","getOrCalculatePathTotalLength","clamp","Shape","__extends","CirclePicker","EllipsePicker","RectPicker","LinePicker","PolylinePicker","PolygonPicker","PathPicker","ImagePicker","AbstractRendererPlugin"],"mappings":"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"}