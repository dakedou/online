{"version":3,"file":"index.js","sources":["../src/HTMLRenderingPlugin.ts","../src/index.ts"],"sourcesContent":["import { CanvasEvent, RenderReason, isCSSRGB, ElementEvent, isPattern, Shape, } from '@antv/g-lite';\nimport { isNil, isNumber, isString } from '@antv/util';\nvar CANVAS_CAMERA_ID = 'g-canvas-camera';\nvar HTMLRenderingPlugin = /** @class */ (function () {\n    function HTMLRenderingPlugin() {\n        this.displayObjectHTMLElementMap = new WeakMap();\n    }\n    HTMLRenderingPlugin.prototype.joinTransformMatrix = function (matrix) {\n        return \"matrix(\".concat([\n            matrix[0],\n            matrix[1],\n            matrix[4],\n            matrix[5],\n            matrix[12],\n            matrix[13],\n        ].join(','), \")\");\n    };\n    HTMLRenderingPlugin.prototype.apply = function (context, runtime) {\n        var _this = this;\n        var camera = context.camera, renderingContext = context.renderingContext, renderingService = context.renderingService;\n        this.context = context;\n        var canvas = renderingContext.root.ownerDocument.defaultView;\n        var setTransform = function (object, $el) {\n            $el.style.transform = _this.joinTransformMatrix(object.getWorldTransform());\n        };\n        var handleMounted = function (e) {\n            var object = e.target;\n            if (object.nodeName === Shape.HTML) {\n                if (!_this.$camera) {\n                    _this.$camera = _this.createCamera(camera);\n                }\n                // create DOM element\n                var $el_1 = _this.getOrCreateEl(object);\n                _this.$camera.appendChild($el_1);\n                // apply documentElement's style\n                if (runtime.enableCSSParsing) {\n                    var attributes_1 = object.ownerDocument.documentElement.attributes;\n                    Object.keys(attributes_1).forEach(function (name) {\n                        $el_1.style[name] = attributes_1[name];\n                    });\n                }\n                Object.keys(object.attributes).forEach(function (name) {\n                    _this.updateAttribute(name, object);\n                });\n                setTransform(object, $el_1);\n                _this.context.nativeHTMLMap.set($el_1, object);\n            }\n        };\n        var handleUnmounted = function (e) {\n            var object = e.target;\n            if (object.nodeName === Shape.HTML && _this.$camera) {\n                var $el = _this.getOrCreateEl(object);\n                if ($el) {\n                    $el.remove();\n                    _this.context.nativeHTMLMap.delete($el);\n                }\n            }\n        };\n        var handleAttributeChanged = function (e) {\n            var object = e.target;\n            if (object.nodeName === Shape.HTML) {\n                var attrName = e.attrName;\n                _this.updateAttribute(attrName, object);\n            }\n        };\n        var handleBoundsChanged = function (e) {\n            var object = e.target;\n            if (object.nodeName === Shape.HTML) {\n                var $el = _this.getOrCreateEl(object);\n                setTransform(object, $el);\n            }\n        };\n        var handleCanvasResize = function () {\n            if (_this.$camera) {\n                var _a = _this.context.config, width = _a.width, height = _a.height;\n                _this.$camera.style.width = \"\".concat(width || 0, \"px\");\n                _this.$camera.style.height = \"\".concat(height || 0, \"px\");\n            }\n        };\n        renderingService.hooks.init.tap(HTMLRenderingPlugin.tag, function () {\n            canvas.addEventListener(CanvasEvent.RESIZE, handleCanvasResize);\n            canvas.addEventListener(ElementEvent.MOUNTED, handleMounted);\n            canvas.addEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n            canvas.addEventListener(ElementEvent.ATTR_MODIFIED, handleAttributeChanged);\n            canvas.addEventListener(ElementEvent.BOUNDS_CHANGED, handleBoundsChanged);\n        });\n        renderingService.hooks.endFrame.tap(HTMLRenderingPlugin.tag, function () {\n            if (_this.$camera &&\n                renderingContext.renderReasons.has(RenderReason.CAMERA_CHANGED)) {\n                _this.$camera.style.transform = _this.joinTransformMatrix(camera.getOrthoMatrix());\n            }\n        });\n        renderingService.hooks.destroy.tap(HTMLRenderingPlugin.tag, function () {\n            // remove camera\n            if (_this.$camera) {\n                _this.$camera.remove();\n            }\n            canvas.removeEventListener(CanvasEvent.RESIZE, handleCanvasResize);\n            canvas.removeEventListener(ElementEvent.MOUNTED, handleMounted);\n            canvas.removeEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n            canvas.removeEventListener(ElementEvent.ATTR_MODIFIED, handleAttributeChanged);\n            canvas.removeEventListener(ElementEvent.BOUNDS_CHANGED, handleBoundsChanged);\n        });\n    };\n    HTMLRenderingPlugin.prototype.createCamera = function (camera) {\n        var _a = this.context.config, doc = _a.document, width = _a.width, height = _a.height;\n        var $canvas = this.context.contextService.getDomElement();\n        var $container = $canvas.parentNode;\n        if ($container) {\n            var cameraId = CANVAS_CAMERA_ID;\n            var $existedCamera = $container.querySelector('#' + cameraId);\n            if (!$existedCamera) {\n                var $camera = (doc || document).createElement('div');\n                $existedCamera = $camera;\n                $camera.id = cameraId;\n                // use absolute position\n                $camera.style.position = 'absolute';\n                // account for DOM element's offset @see https://github.com/antvis/G/issues/1150\n                $camera.style.left = \"\".concat($canvas.offsetLeft || 0, \"px\");\n                $camera.style.top = \"\".concat($canvas.offsetTop || 0, \"px\");\n                $camera.style.transformOrigin = 'left top';\n                $camera.style.transform = this.joinTransformMatrix(camera.getOrthoMatrix());\n                // HTML elements should not overflow with canvas @see https://github.com/antvis/G/issues/1163\n                $camera.style.overflow = 'hidden';\n                $camera.style.pointerEvents = 'none';\n                $camera.style.width = \"\".concat(width || 0, \"px\");\n                $camera.style.height = \"\".concat(height || 0, \"px\");\n                $container.appendChild($camera);\n            }\n            return $existedCamera;\n        }\n        return null;\n    };\n    HTMLRenderingPlugin.prototype.getOrCreateEl = function (object) {\n        var doc = this.context.config.document;\n        var $existedElement = this.displayObjectHTMLElementMap.get(object);\n        if (!$existedElement) {\n            $existedElement = (doc || document).createElement('div');\n            object.parsedStyle.$el = $existedElement;\n            this.displayObjectHTMLElementMap.set(object, $existedElement);\n            if (object.id) {\n                $existedElement.id = object.id;\n            }\n            if (object.name) {\n                $existedElement.setAttribute('name', object.name);\n            }\n            if (object.className) {\n                $existedElement.className = object.className;\n            }\n            // use absolute position\n            $existedElement.style.position = 'absolute';\n            // @see https://github.com/antvis/G/issues/1150\n            $existedElement.style.left = \"0px\";\n            $existedElement.style.top = \"0px\";\n            $existedElement.style['will-change'] = 'transform';\n            $existedElement.style.transform = this.joinTransformMatrix(object.getWorldTransform());\n        }\n        return $existedElement;\n    };\n    HTMLRenderingPlugin.prototype.updateAttribute = function (name, object) {\n        var $el = this.getOrCreateEl(object);\n        switch (name) {\n            case 'innerHTML':\n                var innerHTML = object.parsedStyle.innerHTML;\n                if (isString(innerHTML)) {\n                    $el.innerHTML = innerHTML;\n                }\n                else {\n                    $el.innerHTML = '';\n                    $el.appendChild(innerHTML);\n                }\n                break;\n            case 'transformOrigin':\n                var transformOrigin = object.parsedStyle.transformOrigin;\n                $el.style['transform-origin'] = \"\".concat(transformOrigin[0].value, \" \").concat(transformOrigin[1].value);\n                break;\n            case 'width':\n                if (this.context.enableCSSParsing) {\n                    var width = object.computedStyleMap().get('width');\n                    $el.style.width = width.toString();\n                }\n                else {\n                    var width = object.parsedStyle.width;\n                    $el.style.width = isNumber(width)\n                        ? \"\".concat(width, \"px\")\n                        : width.toString();\n                }\n                break;\n            case 'height':\n                if (this.context.enableCSSParsing) {\n                    var height = object.computedStyleMap().get('height');\n                    $el.style.height = height.toString();\n                }\n                else {\n                    var height = object.parsedStyle.height;\n                    $el.style.height = isNumber(height)\n                        ? \"\".concat(height, \"px\")\n                        : height.toString();\n                }\n                break;\n            case 'zIndex':\n                var zIndex = object.parsedStyle.zIndex;\n                $el.style['z-index'] = \"\".concat(zIndex);\n                break;\n            case 'visibility':\n                var visibility = object.parsedStyle.visibility;\n                $el.style.visibility = visibility;\n                break;\n            case 'pointerEvents':\n                var pointerEvents = object.parsedStyle.pointerEvents;\n                $el.style.pointerEvents = pointerEvents;\n                break;\n            case 'opacity':\n                var opacity = object.parsedStyle.opacity;\n                $el.style.opacity = \"\".concat(opacity);\n                break;\n            case 'fill':\n                var fill = object.parsedStyle.fill;\n                var color = '';\n                if (isCSSRGB(fill)) {\n                    if (fill.isNone) {\n                        color = 'transparent';\n                    }\n                    else {\n                        color = object.getAttribute('fill');\n                    }\n                }\n                else if (Array.isArray(fill)) {\n                    color = object.getAttribute('fill');\n                }\n                else if (isPattern(fill)) {\n                    // TODO: pattern, use background?\n                }\n                $el.style.background = color;\n                break;\n            case 'stroke':\n                var stroke = object.parsedStyle.stroke;\n                var borderColor = '';\n                if (isCSSRGB(stroke)) {\n                    if (stroke.isNone) {\n                        borderColor = 'transparent';\n                    }\n                    else {\n                        borderColor = object.getAttribute('stroke');\n                    }\n                }\n                else if (Array.isArray(stroke)) {\n                    borderColor = object.getAttribute('stroke');\n                }\n                else if (isPattern(stroke)) {\n                    // TODO: pattern, use background?\n                }\n                $el.style['border-color'] = borderColor;\n                $el.style['border-style'] = 'solid';\n                break;\n            case 'lineWidth':\n                var lineWidth = object.parsedStyle.lineWidth;\n                $el.style['border-width'] = \"\".concat(lineWidth || 0, \"px\");\n                break;\n            case 'lineDash':\n                $el.style['border-style'] = 'dashed';\n                break;\n            case 'filter':\n                var filter = object.style.filter;\n                $el.style.filter = filter;\n                break;\n            default:\n                if (name !== 'x' && name !== 'y') {\n                    if (!isNil(object.style[name]) && object.style[name] !== '') {\n                        $el.style[name] = object.style[name];\n                    }\n                }\n        }\n    };\n    HTMLRenderingPlugin.tag = 'HTMLRendering';\n    return HTMLRenderingPlugin;\n}());\nexport { HTMLRenderingPlugin };\n//# sourceMappingURL=HTMLRenderingPlugin.js.map","import { __extends } from \"tslib\";\nimport { AbstractRendererPlugin } from '@antv/g-lite';\nimport { HTMLRenderingPlugin } from './HTMLRenderingPlugin';\nvar Plugin = /** @class */ (function (_super) {\n    __extends(Plugin, _super);\n    function Plugin() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.name = 'html-renderer';\n        return _this;\n    }\n    Plugin.prototype.init = function () {\n        this.addRenderingPlugin(new HTMLRenderingPlugin());\n    };\n    Plugin.prototype.destroy = function () {\n        this.removeAllRenderingPlugins();\n    };\n    return Plugin;\n}(AbstractRendererPlugin));\nexport { Plugin };\n//# sourceMappingURL=index.js.map"],"names":["Shape","CanvasEvent","ElementEvent","RenderReason","isString","isNumber","isCSSRGB","isPattern","isNil","__extends","AbstractRendererPlugin"],"mappings":"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"}